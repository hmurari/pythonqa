<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>metadata</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="epub.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<hr />
<p>title: QA Automation with Python - type: main text: QA Automation
with Python creator: - role: author text: Harsh Murari description: A
complete web automation course with Python and Selenium rights:
Commercial language: en-US stylesheet: epub.css cover-image:
cover.jpg</p>
<h1 id="about-the-author">About the Author</h1>
<figure>
<img src="img/harsh-murari.jpg" alt="Harsh Murari" />
<figcaption aria-hidden="true">Harsh Murari</figcaption>
</figure>
<p><strong>Harsh Murari</strong> is Software Developer, entrepreneur,
husband and a Dad based in Denver, CO. He is founder and CTO at <a
href="https://visionify.ai">Visionify.ai</a>, that focuses on workplace
safety through Vision AI.</p>
<p>He is passionate about Python programming, Automation, Machine
Learning, Computer Vision and Embedded Programming.</p>
<p>You can follow him on twitter at <a
href="https://twitter.com/hmurari"><span class="citation"
data-cites="hmurari">@hmurari</span></a>.</p>
<h1 id="chapter-1-introduction">Chapter 1: Introduction</h1>
<p>In this chapter, we will go over the basics of test automation and
why Python is an excellent choice for it. We will also introduce popular
Python libraries used for test automation, as well as key concepts like
web automation, web APIs, and web scraping. Finally, an overview of the
book will outline what students can expect to learn in each chapter and
the hands-on projects they’ll be working on.</p>
<h2 id="what-is-test-automation">1.1 What is Test Automation?</h2>
<p>Test automation is the process of using software tools and scripts to
automatically execute tests, compare the actual results with expected
results, and report any discrepancies or errors. This approach to
testing reduces the need for manual intervention, leading to increased
efficiency and reliability in the software development process.</p>
<h3 id="benefits-of-test-automation">Benefits of Test Automation</h3>
<p>Some benefits of test automation include:</p>
<ul>
<li><strong><em>Speed</em></strong>: Automated tests can be executed
much faster than manual tests, allowing you to run more tests in less
time.</li>
<li><strong><em>Accuracy</em></strong>: Automated tests reduce the risk
of human error, ensuring that tests are performed consistently and
accurately.</li>
<li><strong><em>Repeatability</em></strong>: Automated tests can be run
multiple times with the same set of inputs, making it easier to identify
and fix issues.</li>
<li><strong><em>Reduced costs</em></strong>: Although there is an
initial investment in setting up test automation, it can lead to cost
savings over time by reducing the amount of manual testing
required.</li>
</ul>
<h3 id="types-of-test-automation">Types of Test Automation</h3>
<p>There are several types of test automation, each focusing on
different aspects of software testing:</p>
<ol type="1">
<li><strong>Unit Testing</strong>: This involves testing individual
components or units of code to ensure that they function correctly. For
example, testing a single function in a Python script to verify that it
returns the correct output for a given input.</li>
</ol>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_add():</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span></span></code></pre></div>
<ol type="1">
<li><p><strong>Integration Testing</strong>: This type of testing
focuses on the interactions between different components or modules
within a software system. For example, testing how a web application
communicates with a database to retrieve and display data.</p></li>
<li><p><strong>System Testing</strong>: System testing evaluates the
entire software system, including its interfaces with other systems, to
ensure that it meets the specified requirements. For example, testing an
e-commerce website’s ability to handle user registration, product
browsing, and order processing.</p></li>
<li><p><strong>Acceptance Testing</strong>: This final stage of testing
is performed to verify that the software meets the needs of its users
and stakeholders. It often involves testing the software from the
end-user’s perspective. For example, testing a web application’s user
interface and functionality to ensure it is user-friendly and meets
customer expectations.</p></li>
</ol>
<p>In the following sections, we will focus on using Python for various
types of test automation, including web automation, web API testing, and
web scraping.</p>
<h2 id="why-python-for-test-automation">1.2 Why Python for Test
Automation?</h2>
<p>Python has become a popular choice for test automation due to its
many advantages. Here, we’ll discuss some of the reasons why Python is
well-suited for test automation:</p>
<ol type="1">
<li><p><strong>Easy to Learn and Readable Syntax</strong>: Python’s
syntax is simple and resembles natural language, making it easy for
beginners to learn and understand. This readability also makes it easier
to write and maintain test scripts, reducing the likelihood of
introducing errors.</p></li>
<li><p><strong>Versatile and Powerful</strong>: Python is a high-level,
general-purpose programming language that can be used for a wide range
of applications, from web development to data analysis. This versatility
makes it an excellent choice for test automation, as it can easily adapt
to different testing requirements.</p></li>
<li><p><strong>Extensive Library Support</strong>: Python has a large
and active community that contributes to its vast ecosystem of libraries
and modules. Many of these libraries, such as Selenium, Requests, and
Beautiful Soup, are specifically designed for test automation tasks,
making it easy to find the tools you need to build robust test
automation solutions.</p></li>
<li><p><strong>Cross-platform Compatibility</strong>: Python can run on
various platforms, including Windows, macOS, and Linux. This makes it
easier to create and maintain test scripts that can run on multiple
operating systems without major modifications.</p></li>
<li><p><strong>Strong Community and Resources</strong>: Python has a
large and supportive community, which means you can find numerous
tutorials, forums, and other resources to help you learn and
troubleshoot any issues you may encounter while working on test
automation projects.</p></li>
<li><p><strong>Integration with Other Testing Tools and
Frameworks</strong>: Python can be easily integrated with a variety of
testing tools and frameworks, such as PyTest, unittest, and Robot
Framework, allowing you to choose the tools that best fit your needs and
preferences.</p></li>
</ol>
<p>To demonstrate Python’s capabilities for test automation, let’s
consider a simple example using the Selenium library. Selenium allows
you to automate web browsers, and with just a few lines of Python code,
you can open a web page, interact with its elements, and verify its
content:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new instance of the Firefox driver</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>driver <span class="op">=</span> webdriver.Firefox()</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Navigate to a web page</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>driver.get(<span class="st">&quot;https://google.com&quot;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Find an element on the page by its tag name</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>header <span class="op">=</span> driver.find_element_by_tag_name(<span class="st">&quot;h1&quot;</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify the header text</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> header.text <span class="op">==</span> <span class="st">&quot;Google&quot;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Close the browser window</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>driver.quit()</span></code></pre></div>
<p>In this example, we used Python and Selenium to automate a simple web
browsing task, demonstrating how easy it is to get started with
Python-based test automation. As you progress through this book, you’ll
learn more about Python’s powerful test automation capabilities and how
to apply them to a variety of tasks and projects.</p>
<h2 id="popular-python-libraries-for-test-automation">1.3 Popular Python
Libraries for Test Automation</h2>
<p>Python’s extensive library ecosystem is one of the key reasons it is
a popular choice for test automation. There are numerous libraries
available to help you create and maintain test scripts, automate web
browsers, interact with APIs, and more. Here, we’ll introduce some of
the most popular Python libraries used for test automation:</p>
<ol type="1">
<li><p><strong>Selenium</strong>: Selenium is a widely-used library for
web automation and browser control. It allows you to interact with web
pages, navigate between pages, fill out forms, click buttons, and
perform various other tasks that a user would typically do. Selenium
supports multiple web browsers, including Chrome, Firefox, Safari, and
Edge.</p></li>
<li><p><strong>Requests</strong>: The Requests library is a popular
choice for working with web APIs and making HTTP requests. It simplifies
the process of sending requests, handling cookies, and processing JSON
data, making it an essential tool for API testing and
automation.</p></li>
<li><p><strong>Beautiful Soup</strong>: Beautiful Soup is a powerful
library for web scraping and HTML parsing. It allows you to extract
information from web pages by navigating the HTML structure, making it
easy to test the content and structure of a website. Beautiful Soup
works well with the Requests library, allowing you to download web pages
and parse their content with ease.</p></li>
<li><p><strong>PyTest</strong>: PyTest is a popular and versatile
testing framework for Python. It simplifies the process of writing and
organizing test cases, and it provides a range of features for running
tests and reporting results. PyTest can be used for various types of
testing, including unit, integration, and functional tests.</p></li>
<li><p><strong>unittest</strong>: unittest is a built-in Python testing
framework that follows the xUnit testing pattern. It provides a rich set
of tools for creating and organizing test cases, test suites, and test
runners. unittest is a good choice for those who prefer a built-in
solution for testing and test automation.</p></li>
<li><p><strong>Robot Framework</strong>: Robot Framework is an
open-source, keyword-driven test automation framework that is designed
to be easy to use, even for non-programmers. It supports a variety of
test automation tasks, including web testing with Selenium, API testing,
and more. Robot Framework is an excellent choice for teams with diverse
skill sets or those who prefer a keyword-driven approach to test
automation.</p></li>
</ol>
<p>These popular Python libraries provide a strong foundation for test
automation tasks, making it easy to automate web activities, interact
with APIs, and verify the functionality and content of websites. As you
explore these libraries and work through the projects in this book,
you’ll gain valuable hands-on experience in Python-based test
automation.</p>
<h2 id="web-automation-web-apis-and-web-scraping">1.4 Web Automation,
Web APIs, and Web Scraping</h2>
<p>In this section, we’ll provide a brief introduction to three key
concepts in Python-based test automation: web automation, web APIs, and
web scraping. These concepts are essential for understanding the various
tasks and projects you’ll encounter throughout this book.</p>
<ol type="1">
<li><strong>Web Automation</strong>: Web automation is the process of
controlling web browsers and interacting with web elements
programmatically. This can include tasks such as clicking buttons,
entering text into input fields, selecting options from dropdown menus,
and navigating between pages. Web automation is often used for testing
web applications and automating repetitive tasks. Python’s Selenium
library is a popular choice for web automation, as it provides a simple
interface for controlling web browsers and interacting with web
elements.</li>
</ol>
<p>Example: Logging in to a website using Selenium</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>driver <span class="op">=</span> webdriver.Firefox()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>driver.get(<span class="st">&quot;https://example.com/login&quot;</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>username <span class="op">=</span> driver.find_element_by_name(<span class="st">&quot;username&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>password <span class="op">=</span> driver.find_element_by_name(<span class="st">&quot;password&quot;</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>username.send_keys(<span class="st">&quot;your_username&quot;</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>password.send_keys(<span class="st">&quot;your_password&quot;</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>password.send_keys(Keys.RETURN)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if login was successful</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> <span class="st">&quot;Welcome, your_username&quot;</span> <span class="kw">in</span> driver.page_source</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>driver.quit()</span></code></pre></div>
<ol type="1">
<li><strong>Web APIs</strong>: Web APIs (Application Programming
Interfaces) are interfaces that allow software applications to
communicate with each other, usually over the internet. They provide a
structured way to request and exchange data between applications,
typically using JSON or XML formats. Python’s Requests library makes it
easy to interact with web APIs by simplifying the process of sending
HTTP requests and processing JSON data.</li>
</ol>
<p>Example: Fetching data from a web API using Requests</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">&quot;https://api.example.com/data&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if the request was successful</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="cf">assert</span> response.status_code <span class="op">==</span> <span class="dv">200</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> response.json()</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code></pre></div>
<p>By understanding these key concepts, you’ll be well-equipped to
tackle the various test automation tasks and projects presented in this
book. As you work through the chapters, you’ll gain hands-on experience
in web automation, web API testing, and web scraping using Python and
its powerful libraries.</p>
<h2 id="setting-up-your-python-environment-for-test-automation">1.5
Setting up your Python Environment for Test Automation</h2>
<p>Before diving into the test automation projects, it’s essential to
set up your Python environment. In this section, we’ll walk you through
the steps to install Python, create a virtual environment, and install
the necessary libraries for test automation.</p>
<ol type="1">
<li><strong>Install Python</strong>: If you don’t already have Python
installed, visit the official Python website
(https://www.python.org/downloads/) and download the latest version for
your operating system. Follow the installation instructions provided on
the website to install Python on your computer. Once installed, you can
check the Python version by running the following command in your
terminal or command prompt:</li>
</ol>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">--version</span></span></code></pre></div>
<ol type="1">
<li><strong>Create a Virtual Environment</strong>: Create a Virtual
Environment: Virtual environments help you manage dependencies for
different projects, ensuring that each project has its own set of
installed packages. To create a virtual environment, open your terminal
or command prompt, navigate to your project folder, and run the
following command:</li>
</ol>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> venv automation_env</span></code></pre></div>
<p>This will create a new virtual environment called “automation_env”
within your project folder.</p>
<ol type="1">
<li><strong>Activate the Virtual Environment</strong>: To activate the
virtual environment, run the appropriate command for your operating
system:</li>
</ol>
<p>Windows:</p>
<pre class="console"><code>cmd&gt; automation_env\Scripts\bin\activate</code></pre>
<p>Linux:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">automation_env/bin/activate</span></span></code></pre></div>
<ol type="1">
<li><strong>Install the Necessary Libraries</strong>: To install the
necessary libraries for test automation, run the following command:</li>
</ol>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install selenium requests beautifulsoup4 pytest unittest robotframework</span></code></pre></div>
<p>This would install most of the common required libraries used for
test automation.</p>
<ol type="1">
<li><strong>Chromedriver Executable</strong>: Selenium requires a driver
to control the web browser. For this example, we’ll use the Chrome
browser. To install the Chromedriver executable, visit the official
Chromedriver website (https://chromedriver.chromium.org/downloads) and
download the latest version for your operating system. Once downloaded,
extract the executable and place it in your project folder. This step is
not required if you are using Firefox for web automation.</li>
</ol>
<h2 id="summary">1.6 Summary</h2>
<p>In this introductory chapter, we provided an overview of test
automation and its benefits, explained why Python is a popular choice
for test automation tasks, and introduced essential concepts such as web
automation, web APIs, and web scraping. We also gave a brief overview of
the popular Python libraries used in test automation, including
Selenium, Requests, Beautiful Soup, PyTest, unittest, and Robot
Framework.</p>
<p>Additionally, we outlined the structure of the book and discussed the
project-based approach that we will be using throughout the chapters.
This approach will involve hands-on examples and activities designed to
reinforce your learning and help you gain practical experience in
Python-based test automation.</p>
<p>This book is suitable for beginners with no prior experience in test
automation or programming, but a basic understanding of Python
programming will be helpful. As you progress through the chapters, the
level of difficulty will gradually increase, providing a comprehensive
learning experience in Python-based test automation.</p>
<h1 id="chapter-2-python-primer">Chapter 2: Python Primer</h1>
<p>In this chapter, we aim to provide a quick primer on Python
programming to help you get started with test automation. Python is a
versatile, high-level programming language known for its readability and
simplicity. Its straightforward syntax, extensive library ecosystem, and
strong community support make Python an excellent choice for various
tasks, including test automation.</p>
<p>This chapter serves as a brief refresher for those already familiar
with Python, and a starting point for those new to the language. We will
cover core concepts like variables, operators, conditionals, loops,
functions, classes, and unit testing frameworks with concise examples.
Additionally, we will include references to resources where you can
learn more in-depth information about Python.</p>
<p>By the end of this chapter, you will have a solid understanding of
Python’s fundamental concepts, enabling you to tackle test automation
tasks and projects confidently.</p>
<h2 id="python-programming-syntax">2.1 Python Programming Syntax</h2>
<p>Python’s syntax is designed to be simple and easy to read, making it
an excellent choice for beginners and experienced programmers alike. In
this section, we’ll cover some basic syntax rules that you should be
familiar with when writing Python code.</p>
<ol type="1">
<li><strong>Indentation</strong>: Python uses indentation to define
blocks of code, such as those within loops, conditionals, and functions.
Indentation is typically done with four spaces, but you can also use
tabs. Consistent indentation is crucial for proper code execution and
readability. Example:</li>
</ol>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> x <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;x is not positive&quot;</span>)</span></code></pre></div>
<ol type="1">
<li><strong>Comments</strong>: Comments are an essential part of any
programming language, as they allow you to add explanations and notes to
your code. In Python, you can use the hash symbol (#) to write
single-line comments. For multi-line comments, you can use triple quotes
(’’’ or “““).</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a single-line comment</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;&#39;&#39;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">This is a</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">multi-line</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">comment</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">&#39;&#39;&#39;</span></span></code></pre></div>
<p>By understanding these basic syntax rules, you’ll be able to write
clean and readable Python code, setting a strong foundation for your
test automation projects.</p>
<h2 id="variables-data-types-and-operators">2.2 Variables, Data Types,
and Operators</h2>
<p>In this section, we will cover variables, common data types, and
operators in Python. These fundamental concepts are essential for
writing Python code and understanding how data is stored and
manipulated.</p>
<h3 id="variables-and-naming-conventions">1. <strong>Variables and
Naming Conventions</strong>:</h3>
<p>Variables are used to store data in Python. Variable names should be
descriptive and follow the standard naming conventions (lowercase words
separated by underscores). Avoid using reserved Python keywords as
variable names.</p>
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> <span class="dv">25</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>first_name <span class="op">=</span> <span class="st">&quot;Alice&quot;</span></span></code></pre></div>
<h3 id="common-data-types">2. <strong>Common Data Types</strong></h3>
<p>Python has several built-in data types, including:</p>
<ul>
<li><code>int</code>: Integer numbers (e.g., 42)</li>
<li><code>float</code>: Floating-point numbers (e.g., 3.14)</li>
<li><code>str</code>: Strings (e.g., “Hello, World!”)</li>
<li><code>list</code>: Ordered, mutable collections (e.g., [1, 2,
3])</li>
<li><code>tuple</code>: Ordered, immutable collections (e.g., (1, 2,
3))</li>
<li><code>dict</code>: Key-value pairs (e.g., {“apple”: 3, “banana”:
5})</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>integer_value <span class="op">=</span> <span class="dv">42</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>floating_point_value <span class="op">=</span> <span class="fl">3.14</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>string_value <span class="op">=</span> <span class="st">&quot;Hello, World!&quot;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>list_value <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>tuple_value <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>dictionary_value <span class="op">=</span> {<span class="st">&quot;apple&quot;</span>: <span class="dv">3</span>, <span class="st">&quot;banana&quot;</span>: <span class="dv">5</span>}</span></code></pre></div>
<h3 id="operators">3. <strong>Operators</strong>:</h3>
<p>Python provides various operators to perform operations on data, such
as:</p>
<ul>
<li><em>Arithmetic operators</em>:
<ul>
<li><code>+</code> : Addition Operator</li>
<li><code>-</code> : Subtraction Operator</li>
<li><code>*</code> : Multiplication Operator</li>
<li><code>/</code> : Division Operator</li>
<li><code>//</code> : Floor Division (Example
<code>5//2 = 2</code>)</li>
<li><code>%</code> : Modulo (reminder) Operator (Example
<code>5%2 = 1</code>)</li>
<li><code>**</code> : Exponent Operator (Example
<code>2**3 = 8</code>)</li>
</ul></li>
<li><em>Comparison operators</em>:
<ul>
<li><code>==</code> : Equality check</li>
<li><code>!=</code> : Not equal check</li>
<li><code>&lt;</code> : Less than check</li>
<li><code>&gt;</code> : Greater than check</li>
<li><code>&lt;=</code> : Less than or equal to check</li>
<li><code>&gt;=</code> : Greater than or equal to check</li>
</ul></li>
<li><em>Logical operators</em>:
<ul>
<li><code>and</code>: Logical AND (Example
<code>True and True = True</code>)</li>
<li><code>or</code> : Logical OR (Example
<code>True or False = True</code>)</li>
<li><code>not</code> : Logical NOT (Example
<code>not True = False</code>)</li>
</ul></li>
<li><em>Membership operators</em>:
<ul>
<li><code>in</code> : Check if a value is in a collection. (Example
<code>5 in [1, 2, 3, 4, 5] = True</code>)</li>
<li><code>not in</code>: Check if a value is not in a collection.
(Example <code>6 not in [1, 2, 3, 4, 5] = True</code>)</li>
</ul></li>
<li><em>Identity operators</em>:
<ul>
<li><code>is</code> : Check if two variables are the same object</li>
<li><code>is not</code>: Check if two variables are not the same
object</li>
</ul></li>
</ul>
<p>Some examples:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="bu">sum</span> <span class="op">=</span> x <span class="op">+</span> y</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>difference <span class="op">=</span> x <span class="op">-</span> y</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>product <span class="op">=</span> x <span class="op">*</span> y</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>quotient <span class="op">=</span> x <span class="op">/</span> y</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>is_equal <span class="op">=</span> x <span class="op">==</span> y</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>is_greater <span class="op">=</span> x <span class="op">&gt;</span> y</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> x <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> y <span class="op">&gt;</span> <span class="dv">0</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>found <span class="op">=</span> y <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>is_same_object <span class="op">=</span> x <span class="kw">is</span> <span class="kw">not</span> y</span></code></pre></div>
<p>By understanding variables, data types, and operators in Python,
you’ll be able to work with data effectively and write efficient test
automation code.</p>
<h2 id="conditional-statements">2.3 Conditional Statements</h2>
<p>Conditional statements are a fundamental concept in Python
programming. They allow you to make decisions and execute different
blocks of code based on specific conditions. In this section, we’ll
cover the <code>if</code>, <code>if</code>-<code>else</code>, and
<code>if</code>-<code>elif</code>-<code>else</code> statements.</p>
<ol type="1">
<li><code>if</code> statement: The <code>if</code> statement is used to
execute a block of code when a specific condition is true.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>temperature <span class="op">=</span> <span class="dv">35</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> temperature <span class="op">&gt;</span> <span class="dv">30</span>:</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;It&#39;s hot outside.&quot;</span>)</span></code></pre></div>
<ol start="2" type="1">
<li><code>if</code>-<code>else</code> statement: The
<code>if</code>-<code>else</code> statement is used to execute one block
of code if a condition is true, and another block if the condition is
false.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>temperature <span class="op">=</span> <span class="dv">25</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> temperature <span class="op">&gt;</span> <span class="dv">30</span>:</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;It&#39;s hot outside.&quot;</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;It&#39;s not hot outside.&quot;</span>)</span></code></pre></div>
<ol start="3" type="1">
<li><code>if</code>-<code>elif</code>-<code>else</code> statement: The
<code>if</code>-<code>elif</code>-<code>else</code> statement is used to
test multiple conditions and execute the corresponding block of code. If
none of the conditions are true, the code within the else block is
executed.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>temperature <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> temperature <span class="op">&gt;</span> <span class="dv">30</span>:</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;It&#39;s hot outside.&quot;</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> temperature <span class="op">&lt;</span> <span class="dv">10</span>:</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;It&#39;s cold outside.&quot;</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;The temperature is moderate.&quot;</span>)</span></code></pre></div>
<p>By mastering conditional statements in Python, you can create complex
and flexible test automation scripts that can adapt to various
situations and conditions.</p>
<h2 id="loops">2.4 Loops</h2>
<p>Loops are another essential concept in Python programming. They allow
you to execute a block of code repeatedly until a specific condition is
met. In this section, we will cover the <code>for</code> loop,
<code>while</code> loop, and <code>list</code> comprehensions.</p>
<h3 id="for-loop"><code>for</code> loop:</h3>
<p>The <code>for</code> loop iterates over a sequence (such as a list,
tuple, or string) and executes a block of code for each element in the
sequence.</p>
<p>Example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>]</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fruit <span class="kw">in</span> fruits:</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(fruit)</span></code></pre></div>
<p>Output:</p>
<pre><code>apple
banana
cherry</code></pre>
<h3 id="while-loop"><code>while</code> loop:</h3>
<p>The <code>while</code> loop repeatedly executes a block of code as
long as a specific condition remains true.</p>
<p>Example:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">5</span>:</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(count)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    count <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<p>Output:</p>
<pre><code>0
1
2
3
4</code></pre>
<h3 id="list-comprehensions"><code>list</code> comprehensions:</h3>
<p><code>list</code> comprehensions are a concise way to create a new
list by applying an expression to each element in an existing list or
other iterable object.</p>
<p>Example:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> numbers]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)</span></code></pre></div>
<p>Output:</p>
<pre><code>[1, 4, 9, 16, 25]</code></pre>
<p>Understanding loops in Python will enable you to write more efficient
and effective test automation scripts by repeating tasks and processing
large amounts of data with ease.</p>
<h3 id="break-and-continue"><code>break</code> and
<code>continue</code>:</h3>
<p>The <code>break</code> and <code>continue</code> statements can be
used to control the flow of a loop.</p>
<p>For example:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)</span></code></pre></div>
<p>The above code will print the numbers from 0 to 4 and then exit the
loop.</p>
<p>Output:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x)</span></code></pre></div>
<p>The above code will print the numbers from 0 to 9, except 5.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="ex">6</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="ex">7</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="ex">8</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="ex">9</span></span></code></pre></div>
<h3 id="range-function"><code>range()</code> function</h3>
<p><code>range()</code> is a built-in function that generates a sequence
of numbers, which can be used with a <code>for</code> loop to iterate a
specific number of times.</p>
<p>Example:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span></span></code></pre></div>
<h3 id="nested-loops">Nested Loops</h3>
<p>You can also have nested loops, where one loop is placed inside
another loop. This is useful when you need to iterate over multiple
dimensions, such as a matrix or a nested list.</p>
<p>Example:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>],</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>],</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> row <span class="kw">in</span> matrix:</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> element <span class="kw">in</span> row:</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(element, end<span class="op">=</span><span class="st">&quot; &quot;</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>()  <span class="co"># Print a newline after each row</span></span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> 2 3</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span> 5 6</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="ex">7</span> 8 9</span></code></pre></div>
<h3 id="for-loop-with-enumerate"><code>for</code> loop with
<code>enumerate()</code></h3>
<p><code>enumerate()</code> is a built-in function that can be used with
a <code>for</code> loop to iterate over a sequence while keeping track
of the index of the current element.</p>
<p>Example:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>]</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> index, fruit <span class="kw">in</span> <span class="bu">enumerate</span>(fruits):</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(index, fruit)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span> apple</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span> banana</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span> cherry</span></code></pre></div>
<h3 id="for-loop-with-zip"><code>for</code> loop with
<code>zip()</code></h3>
<p><code>zip()</code> is a built-in function that can be used with a
<code>for</code> loop to iterate over multiple sequences at the same
time.</p>
<p>Example:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="st">&quot;John&quot;</span>, <span class="st">&quot;Jane&quot;</span>, <span class="st">&quot;Bob&quot;</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>ages <span class="op">=</span> [<span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">26</span>]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> name, age <span class="kw">in</span> <span class="bu">zip</span>(names, ages):</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(name, age)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">John</span> 24</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Jane</span> 25</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Bob</span> 26</span></code></pre></div>
<h3 id="for-loop-with-reversed"><code>for</code> loop with
<code>reversed()</code></h3>
<p><code>reversed()</code> is a built-in function that can be used with
a <code>for</code> loop to iterate over a sequence in reverse order.</p>
<p>Example:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">reversed</span>(<span class="bu">range</span>(<span class="dv">5</span>)):</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span></code></pre></div>
<h3 id="for-loop-with-sorted"><code>for</code> loop with
<code>sorted()</code></h3>
<p><code>sorted()</code> is a built-in function that can be used with a
<code>for</code> loop to iterate over a sequence in sorted order.</p>
<p>Example:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="op">=</span> [<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;cherry&quot;</span>]</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> fruit <span class="kw">in</span> <span class="bu">sorted</span>(fruits):</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(fruit)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">apple</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">banana</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="ex">cherry</span></span></code></pre></div>
<h3 id="for-loop-with-dict.items"><code>for</code> loop with
<code>dict.items()</code></h3>
<p><code>dict.items()</code> is a built-in function that can be used
with a <code>for</code> loop to iterate over a dictionary and access its
keys and values.</p>
<p>Example:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>person <span class="op">=</span> {</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;name&quot;</span>: <span class="st">&quot;John&quot;</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;age&quot;</span>: <span class="dv">24</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;country&quot;</span>: <span class="st">&quot;Norway&quot;</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> key, value <span class="kw">in</span> person.items():</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(key, value)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">name</span> John</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="ex">age</span> 24</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="ex">country</span> Norway</span></code></pre></div>
<h3 id="while-loop-with-else"><code>while</code> loop with
<code>else</code></h3>
<p>The <code>else</code> clause can be used with the <code>while</code>
loop to execute a block of code once when the condition no longer holds
true. This can be helpful for handling scenarios that occur after the
loop has finished iterating.</p>
<p>Example:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>count <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">5</span>:</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(count)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    count <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Loop finished&quot;</span>)</span></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Loop</span> finished</span></code></pre></div>
<p>These examples showcase the versatility of loops in Python and their
importance in creating efficient test automation scripts.</p>
<h2 id="functions-and-modules">2.5 Functions and Modules</h2>
<p>Functions and modules are crucial components of Python programming
that allow you to organize and reuse code efficiently. In this section,
we will cover defining and calling functions, function parameters and
arguments, the return statement, and importing modules.</p>
<h3 id="defining-and-calling-functions">Defining and Calling
Functions</h3>
<p>Functions are defined using the def keyword, followed by the function
name and a pair of parentheses containing the function’s parameters. The
function’s code block is then indented. Functions are called by their
name, followed by parentheses containing the arguments.</p>
<p>Example:</p>
<pre><code>def greet(name):
    print(f&quot;Hello, {name}!&quot;)

greet(&quot;Alice&quot;)  # Will output &quot;Hello, Alice!&quot;</code></pre>
<p>We’ve been using functions all this while. For example, the
<code>print()</code> function prints the specified message to the
console. The <code>range()</code> function returns a sequence of
numbers, starting from 0 by default, and increments by 1 (by default),
and stops before a specified number. These functions are in-built
functions that come with Python.</p>
<h3 id="function-parameters-and-arguments">Function Parameters and
Arguments:</h3>
<p>Parameters are the variables listed in the function definition, while
arguments are the values passed to the function when it is called. You
can pass multiple arguments to a function by separating them with
commas.</p>
<p>Example:</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> a <span class="op">+</span> b</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;The sum of </span><span class="sc">{</span>a<span class="sc">}</span><span class="ss"> and </span><span class="sc">{</span>b<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>result<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>add(<span class="dv">5</span>, <span class="dv">3</span>)</span></code></pre></div>
<h3 id="the-return-statement">The <code>return</code> statement:</h3>
<p>The <code>return</code> statement is used to exit a function and
return a value. The <code>return</code> statement can be used without
any arguments to exit a function.</p>
<p>Example:</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> multiply(a, b):</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>product <span class="op">=</span> multiply(<span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;The product of 4 and 3 is </span><span class="sc">{</span>product<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>Functions without a <code>return</code> statement return
<code>None</code>.</p>
<h3 id="modules-and-importing">Modules and Importing:</h3>
<p>Modules are Python files containing functions, classes, and variables
that can be imported into other Python scripts. To use a module, you
need to import it using the import keyword. You can also use the from
keyword to import specific functions or classes from a module.</p>
<p>Example:</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the entire math module</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(math.sqrt(<span class="dv">16</span>))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Import only the sqrt function from the math module</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> sqrt</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sqrt(<span class="dv">16</span>))</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the sqrt function with an alias (nickname)</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> sqrt <span class="im">as</span> square_root</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(square_root(<span class="dv">16</span>))</span></code></pre></div>
<p>Understanding functions and modules in Python will help you write
modular and reusable test automation code, making your scripts more
maintainable and efficient.</p>
<h3 id="default-parameter-values">Default Parameter Values:</h3>
<p>Below are a few more advanced concepts that we are listing here for
reference.</p>
<p>You can assign default values to function parameters. This way, if
the caller doesn’t provide a value for a parameter, the default value
will be used.</p>
<p>Example:</p>
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet(name, greeting<span class="op">=</span><span class="st">&quot;Hello&quot;</span>):</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>greeting<span class="sc">}</span><span class="ss">, </span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">!&quot;</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">&quot;Alice&quot;</span>)  <span class="co"># Uses the default greeting</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>greet(<span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Hi&quot;</span>)  <span class="co"># Uses a custom greeting</span></span></code></pre></div>
<h3 id="keyword-arguments">Keyword Arguments:</h3>
<p>When calling a function, you can use keyword arguments to specify the
values for specific parameters. This can make your function calls more
readable and flexible.</p>
<p>Example:</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_info(name, age, city):</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss"> is </span><span class="sc">{</span>age<span class="sc">}</span><span class="ss"> years old and lives in </span><span class="sc">{</span>city<span class="sc">}</span><span class="ss">.&quot;</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>display_info(<span class="st">&quot;Alice&quot;</span>, <span class="dv">25</span>, <span class="st">&quot;New York&quot;</span>)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>display_info(age<span class="op">=</span><span class="dv">30</span>, city<span class="op">=</span><span class="st">&quot;London&quot;</span>, name<span class="op">=</span><span class="st">&quot;Bob&quot;</span>)</span></code></pre></div>
<h3 id="variable-length-arguments">Variable-length Arguments:</h3>
<p>You can use the <code>*args</code> and <code>**kwargs</code> syntax
to accept a variable number of arguments in your functions. This is
useful when you don’t know how many arguments will be passed to a
function.</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sum_numbers(<span class="op">*</span>args):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> number <span class="kw">in</span> args:</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>        total <span class="op">+=</span> number</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> total</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sum_numbers(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))  <span class="co"># Output: 6</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sum_numbers(<span class="dv">4</span>, <span class="dv">5</span>))  <span class="co"># Output: 9</span></span></code></pre></div>
<h3 id="lambda-functions">Lambda Functions:</h3>
<p>Lambda functions are small, anonymous functions defined using the
lambda keyword. They can have any number of arguments but can only
contain a single expression.</p>
<p>Example:</p>
<pre><code>square = lambda x: x ** 2
print(square(4))  # Output: 16</code></pre>
<h3 id="organizing-modules-in-packages">Organizing Modules in
Packages:</h3>
<p>Packages are a way to organize related modules in a directory
hierarchy. To create a package, create a directory and include an
<code>__init__.py</code> file in it. You can then import modules from
the package using the dot notation.</p>
<p>Example:</p>
<pre><code>my_package/
    __init__.py
    module1.py
    module2.py</code></pre>
<div class="sourceCode" id="cb53"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> my_package <span class="im">import</span> module1</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> my_package.module2 <span class="im">import</span> some_function</span></code></pre></div>
<p>These additional concepts related to functions and modules will
further enhance your ability to create modular, reusable, and efficient
test automation code in Python.</p>
<h2 id="classes-and-objects">2.6 Classes and Objects</h2>
<p>Classes and object-oriented programming (OOP) are essential concepts
in Python that help you create organized and reusable code. In this
section, we will cover classes, objects, methods, inheritance, and
polymorphism.</p>
<h3 id="classes-and-objects-1">Classes and Objects:</h3>
<p>A class is a blueprint for creating objects (instances) with specific
properties (attributes) and behaviors (methods). Objects are instances
of classes.</p>
<p>Example:</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Car:</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, make, model):</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.make <span class="op">=</span> make</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.model <span class="op">=</span> model</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> honk(<span class="va">self</span>):</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;The </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>make<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>model<span class="sc">}</span><span class="ss"> honks!&quot;</span>)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>my_car <span class="op">=</span> Car(<span class="st">&quot;Toyota&quot;</span>, <span class="st">&quot;Corolla&quot;</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>my_car.honk()  <span class="co"># Output: The Toyota Corolla honks!</span></span></code></pre></div>
<h3 id="methods">Methods:</h3>
<p>Methods are functions that belong to a class and act on the object’s
attributes. They are defined within a class and are called on instances
of the class.</p>
<p>Example:</p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Circle:</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, radius):</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.radius <span class="op">=</span> radius</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> area(<span class="va">self</span>):</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">3.14</span> <span class="op">*</span> (<span class="va">self</span>.radius <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>my_circle <span class="op">=</span> Circle(<span class="dv">5</span>)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_circle.area())  <span class="co"># Output: 78.5</span></span></code></pre></div>
<h3 id="inheritance">Inheritance:</h3>
<p>Inheritance allows you to create a new class that inherits attributes
and methods from an existing class. The new class is called the
subclass, and the existing class is the superclass.</p>
<p>Example:</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Vehicle:</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, make, model):</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.make <span class="op">=</span> make</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.model <span class="op">=</span> model</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Car(Vehicle):</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> honk(<span class="va">self</span>):</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;The </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>make<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>model<span class="sc">}</span><span class="ss"> honks!&quot;</span>)</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>my_car <span class="op">=</span> Car(<span class="st">&quot;Toyota&quot;</span>, <span class="st">&quot;Corolla&quot;</span>)</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>my_car.honk()  <span class="co"># Output: The Toyota Corolla honks!</span></span></code></pre></div>
<h3 id="polymorphism">Polymorphism:</h3>
<p>Polymorphism enables you to use a single interface for different data
types or classes, allowing you to write more flexible and reusable code.
Polymorphism is often used in conjunction with inheritance.</p>
<p>For beginner programmers - inheritance and polymorphism might not be
of much use in the beginning. But as you progress in your career, you
will find that these concepts are very useful in writing efficient and
reusable code.</p>
<p>Example:</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Dog:</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&quot;Woof!&quot;</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Cat:</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> speak(<span class="va">self</span>):</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">&quot;Meow!&quot;</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> make_sound(animal):</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(animal.speak())</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>dog <span class="op">=</span> Dog()</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>cat <span class="op">=</span> Cat()</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>make_sound(dog)  <span class="co"># Output: Woof!</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>make_sound(cat)  <span class="co"># Output: Meow!</span></span></code></pre></div>
<p>Understanding classes and object-oriented programming in Python is
vital for creating modular, reusable, and maintainable test automation
code, as it helps you model real-world entities and their
relationships.</p>
<h3 id="advanced-concepts">Advanced concepts</h3>
<p>Below are a few more concepts related to classes and object-oriented
programming that are worth highlighting:</p>
<ul>
<li><strong>Class Attributes</strong> Class attributes are variables
shared by all instances of a class. They are defined at the class level,
outside any method.</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Car:</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    wheels <span class="op">=</span> <span class="dv">4</span>  <span class="co"># Class attribute</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, make, model):</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.make <span class="op">=</span> make  <span class="co"># Instance attribute</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.model <span class="op">=</span> model  <span class="co"># Instance attribute</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>my_car <span class="op">=</span> Car(<span class="st">&quot;Toyota&quot;</span>, <span class="st">&quot;Corolla&quot;</span>)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_car.wheels)  <span class="co"># Output: 4</span></span></code></pre></div>
<ul>
<li><strong>Instance Methods, Class Methods, and Static
Methods</strong></li>
</ul>
<p>In addition to instance methods, classes can have class methods and
static methods. Class methods are bound to the class and not the
instance, while static methods don’t depend on the class or instance and
are used like regular functions.</p>
<p>Example:</p>
<div class="sourceCode" id="cb59"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyClass:</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">@classmethod</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> class_method(cls):</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Called class method.&quot;</span>)</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">@staticmethod</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> static_method():</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Called static method.&quot;</span>)</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> instance_method(<span class="va">self</span>):</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;Called instance method.&quot;</span>)</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>obj <span class="op">=</span> MyClass()</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>obj.instance_method()</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>MyClass.class_method()</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>MyClass.static_method()</span></code></pre></div>
<ul>
<li><strong>Property Decorator</strong></li>
</ul>
<p>The property decorator allows you to create getter and setter methods
for class attributes. This can be useful for encapsulating internal
state and validating attribute values.</p>
<p>Example:</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Person:</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, first_name, last_name):</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.first_name <span class="op">=</span> first_name</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.last_name <span class="op">=</span> last_name</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">@property</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> full_name(<span class="va">self</span>):</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="ss">f&quot;</span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>first_name<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span><span class="va">self</span><span class="sc">.</span>last_name<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">@full_name.setter</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> full_name(<span class="va">self</span>, name):</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>        first_name, last_name <span class="op">=</span> name.split(<span class="st">&quot; &quot;</span>)</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.first_name <span class="op">=</span> first_name</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.last_name <span class="op">=</span> last_name</span></code></pre></div>
<p>These additional concepts related to classes and object-oriented
programming may not be necessary for beginner programmers, but they are
worth knowing as you progress in your career.</p>
<h2 id="unit-testing-with-pytest">2.7 Unit Testing with PyTest</h2>
<p>Unit testing is a critical part of the software development process
that helps ensure the correctness and reliability of your code. Python
offers several testing frameworks to write and execute unit tests, with
PyTest being one of the most popular.</p>
<p>In this section, we will provide a brief introduction to PyTest,
explaining how to install it, write simple tests, and run them.</p>
<h3 id="installing-pytest">Installing PyTest:</h3>
<p>To install PyTest, you can use pip, the Python package manager. Open
a terminal or command prompt and run the following command:</p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install pytest</span></code></pre></div>
<h3 id="writing-tests">Writing Tests:</h3>
<p>PyTest uses the <code>assert</code> keyword to verify that the
expected result matches the actual result. If the assertion fails, the
test fails.</p>
<p>Example:</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test_example.py</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_add():</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> add(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">7</span></span></code></pre></div>
<h3 id="running-tests">Running Tests:</h3>
<p>To run the tests, open a terminal or command prompt in the directory
containing your test file and run the pytest command. PyTest will
automatically discover and run tests in your project.</p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pytest</span></span></code></pre></div>
<p>PyTest will display the results of your tests, indicating whether
they passed or failed.</p>
<h3 id="assertions-and-test-fixtures">Assertions and Test Fixtures:</h3>
<p>In PyTest, you use the assert statement to verify that your code
behaves as expected. PyTest also supports test fixtures, which are
reusable pieces of code for setting up and tearing down test
environments.</p>
<p>Example:</p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="at">@pytest.fixture</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sample_data():</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_sum(sample_data):</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> <span class="bu">sum</span>(sample_data)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> result <span class="op">==</span> <span class="dv">15</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_len(sample_data):</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> <span class="bu">len</span>(sample_data) <span class="op">==</span> <span class="dv">5</span></span></code></pre></div>
<p>This brief introduction to PyTest should help you get started with
writing and running unit tests in Python. As you progress through the
book, you will learn more advanced testing techniques and apply them to
your test automation projects.</p>
<h2 id="summary-1">2.8 Summary</h2>
<p>In Chapter 2, we provided a quick primer on Python to help you get
familiar with the core concepts necessary for test automation. Here’s a
summary of the key topics we covered:</p>
<ul>
<li><p><strong>Python programming syntax</strong>: We discussed the
basic structure and syntax of Python programs, including comments,
indentation, and import statements.</p></li>
<li><p><strong>Variables, data types, and operators</strong>: We
introduced variables and basic data types in Python (integers, floats,
strings, and booleans), as well as common operators for performing
arithmetic, comparison, and logical operations.</p></li>
<li><p><strong>Conditional statements (if/else)</strong>: We explained
how to use <code>if</code>, <code>elif</code>, and <code>else</code>
statements to control the flow of a program based on
conditions.</p></li>
<li><p><strong>Loops (for and while)</strong>: We covered
<code>for</code> and <code>while</code> loops, which allow you to
execute a block of code repeatedly based on a condition or a
sequence.</p></li>
<li><p><strong>Functions and modules</strong>: We demonstrated how to
define and call functions, as well as how to organize your code into
modules and import them.</p></li>
<li><p><strong>Classes and object-oriented programming</strong>: We
explored classes, objects, methods, inheritance, and polymorphism, which
are fundamental concepts in Python’s object-oriented programming
model.</p></li>
<li><p><strong>Introduction to Python unit testing frameworks
(PyTest)</strong>: We provided a brief overview of PyTest, a popular
Python testing framework, and showed you how to install it, write simple
tests, and run them.</p></li>
</ul>
<p>This chapter aimed to equip you with a solid understanding of
Python’s core concepts, laying the foundation for the more advanced
topics and test automation techniques we’ll cover in the upcoming
chapters. Remember that practice is crucial for mastering Python, so
don’t hesitate to experiment with the examples and write your own code
as you progress through the book.</p>
<p>For those interested in diving deeper into Python, here is a list of
excellent resources to learn more:</p>
<ul>
<li><p><strong><a
href="https://www.python.org/about/gettingstarted/">Python.org</a></strong>:
Python.org offers beginner’s guides, advanced guides, and various other
resources for learning Python, directly from the organization that
maintains the language.</p></li>
<li><p><strong><a href="https://realpython.com/">Real
Python</a></strong>: Real Python offers high-quality tutorials,
articles, and other resources for learning Python, covering a wide range
of topics and skill levels.</p></li>
<li><p><strong><a
href="https://www.codecademy.com/learn/learn-python-3">Codecademy</a></strong>:
Codecademy provides an interactive Python course that covers essential
concepts with hands-on exercises and projects.</p></li>
<li><p><strong><a
href="https://www.coursera.org/specializations/python">Coursera</a></strong>:
Coursera offers numerous Python courses, including the popular “Python
for Everybody” specialization by the University of Michigan.</p></li>
<li><p><strong><a
href="https://www.edx.org/course/introduction-to-computer-science-and-programming-7">edX</a></strong>:
edX also provides various Python courses, such as the “Introduction to
Computer Science and Programming Using Python” course by MIT.</p></li>
<li><p><strong><a href="https://automatetheboringstuff.com/">Automate
the Boring Stuff with Python</a></strong>: This book by Al Sweigart
focuses on practical Python programming and automation of everyday
tasks, making it an excellent resource for those who want to apply
Python to real-world problems.</p></li>
<li><p><strong><a href="https://www.youtube.com/user/schafer5">Corey
Schafer’s YouTube Channel</a></strong>: Corey Schafer’s YouTube channel
offers an extensive collection of Python tutorials, covering basics,
intermediate, and advanced topics.</p></li>
<li><p><strong><a
href="https://www.sololearn.com/Course/Python/">SoloLearn</a></strong>:
SoloLearn offers a mobile app and website for learning Python and other
programming languages with interactive exercises and a supportive
community.</p></li>
<li><p><strong><a href="https://nostarch.com/pythoncrashcourse2e">Python
Crash Course</a></strong>: This book by Eric Matthes provides a
fast-paced and thorough introduction to Python, aimed at beginners who
want to quickly learn the language and start working on real-world
projects.</p></li>
</ul>
<p>These resources cater to various learning styles and proficiency
levels, so feel free to explore and find the ones that suit you best. As
you learn more about Python, remember to practice regularly, experiment
with the concepts you learn, and apply them to your test automation
projects.</p>
<h1 id="chapter-4-automating-an-e-commerce-website">Chapter 4:
Automating an e-Commerce Website</h1>
<p>In this chapter, we will work on our first project to automate a web
activity using Python and Selenium. The goal of this project is to build
a script that automates the process of searching for a product on an
e-commerce website and retrieving the product details.</p>
<h2 id="project-overview">4.1 Project Overview</h2>
<ul>
<li>Project goal: To automate the process of searching for a product on
an e-commerce website and retrieving the product details.</li>
<li>Tools and libraries: Python, Selenium WebDriver, and Beautiful
Soup.</li>
<li>Level of difficulty: <strong>Beginner</strong>.</li>
</ul>
<h2 id="plan-and-approach">4.2 Plan and Approach</h2>
<p>Before diving into the code, let’s outline the steps we need to
perform to complete this project:</p>
<ol type="1">
<li>Choose an e-commerce website to work with.</li>
<li>Open the website using Selenium WebDriver.</li>
<li>Locate the search bar and enter the product name.</li>
<li>Perform the search and navigate to the product page.</li>
<li>Extract the product details (name, price, rating, etc.) using
Beautiful Soup.</li>
<li>Display the extracted product details.</li>
<li>Close the browser.</li>
</ol>
<p>In the following sections, we will guide you through each of these
steps to build the automation script for this project.</p>
<h3 id="setting-up-the-environment">4.3 Setting Up the Environment</h3>
<p>Before we start writing the script, we need to set up our Python
environment with the necessary packages. We will be using Selenium
WebDriver for browser automation and Beautiful Soup for HTML parsing.
Install the required packages using the following commands:</p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install selenium</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install beautifulsoup4</span></code></pre></div>
<p>In addition, download the appropriate WebDriver for the browser you
wish to use (e.g., Chrome, Firefox, etc.) and add it to your system’s
PATH. For example, if you are using Chrome, download the <a
href="https://sites.google.com/a/chromium.org/chromedriver/downloads">ChromeDriver</a>,
and follow the installation instructions for your operating system.</p>
<p>With the necessary packages installed and the WebDriver set up, we
are ready to begin writing the script for our project.</p>
<h2 id="opening-the-website-and-performing-the-search">4.4 Opening the
Website and Performing the Search</h2>
<p>First, we need to open the e-commerce website using Selenium
WebDriver and perform the search for our desired product. In this
example, we will use the Amazon website to search for a product.</p>
<p>Here’s the code to open the website and perform the search:</p>
<div class="sourceCode" id="cb66"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the path below with the path to your WebDriver executable</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>driver_path <span class="op">=</span> <span class="st">&quot;/path/to/your/webdriver&quot;</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome(executable_path<span class="op">=</span>driver_path)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the Amazon website</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&quot;https://www.amazon.com&quot;</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>browser.get(url)</span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the search bar</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>search_bar <span class="op">=</span> browser.find_element_by_id(<span class="st">&quot;twotabsearchtextbox&quot;</span>)</span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Enter the product name and perform the search</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>product_name <span class="op">=</span> <span class="st">&quot;laptop&quot;</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>search_bar.send_keys(product_name)</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>search_bar.send_keys(Keys.RETURN)</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the search results to load</span></span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">5</span>)</span></code></pre></div>
<p>This code will open the Amazon website, locate the search bar, enter
the product name (in this case, “laptop”), and perform the search by
pressing the “RETURN” key. We also added a 5-second delay to wait for
the search results to load.</p>
<h2 id="navigating-to-the-product-page">4.5 Navigating to the Product
Page</h2>
<p>Now that we have the search results, we need to navigate to the
product page of the first result. We will locate the first product in
the search results and click on it to open the product page. Here’s the
code to do this:</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the first product in the search results</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>first_product <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;.s-result-item .a-link-normal&quot;</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Click on the first product to open the product page</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>first_product.click()</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the product page to load</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">5</span>)</span></code></pre></div>
<p>This code locates the first product in the search results using a CSS
selector and clicks on it to open the product page. We added another
5-second delay to wait for the product page to load.</p>
<h3 id="extracting-the-product-details-with-beautiful-soup">4.6
Extracting the Product Details with Beautiful Soup</h3>
<p>With the product page open, we can now extract the product details
such as name, price, and rating using Beautiful Soup. First, we will
obtain the page’s HTML source and parse it with Beautiful Soup. Then, we
will extract the required details using appropriate selectors. Here’s
the code to do this:</p>
<div class="sourceCode" id="cb68"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the HTML source of the product page</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>html_source <span class="op">=</span> browser.page_source</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse the HTML with Beautiful Soup</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_source, <span class="st">&quot;html.parser&quot;</span>)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the product details</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>product_name <span class="op">=</span> soup.select_one(<span class="st">&quot;#productTitle&quot;</span>).text.strip()</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>product_price <span class="op">=</span> soup.select_one(<span class="st">&quot;#priceblock_ourprice&quot;</span>).text.strip()</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>product_rating <span class="op">=</span> soup.select_one(<span class="st">&quot;.a-icon-star span&quot;</span>).text.strip()</span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Product Name:&quot;</span>, product_name)</span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Product Price:&quot;</span>, product_price)</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Product Rating:&quot;</span>, product_rating)</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>This code extracts the product name, price, <span class="kw">and</span> rating <span class="im">from</span> the product page using CSS selectors <span class="kw">and</span> Beautiful Soup<span class="st">&#39;s select_one method. The extracted details are then printed to the console.</span></span></code></pre></div>
<h2 id="displaying-the-extracted-product-details">4.7 Displaying the
Extracted Product Details</h2>
<p>Now that we have the product details extracted, we can display them
in a more user-friendly format. In this example, we will simply print
the details to the console, but you can choose to display the details in
a GUI, save them to a file, or perform other actions as needed.</p>
<div class="sourceCode" id="cb69"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Product Details:&quot;</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;----------------&quot;</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Name: </span><span class="sc">{</span>product_name<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Price: </span><span class="sc">{</span>product_price<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Rating: </span><span class="sc">{</span>product_rating<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>This code displays the product details in a clear and easy-to-read
format. You can customize the output as needed to suit your preferences
or requirements.</p>
<h2 id="closing-the-browser">4.8 Closing the Browser</h2>
<p>After extracting and displaying the product details, we can close the
browser to complete the automation script. Here’s the code to close the
browser:</p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>browser.quit()</span></code></pre></div>
<p>This single line of code closes the browser window, which marks the
end of our web automation script for this project.</p>
<h2 id="full-code-for-the-project">4.9 Full Code for the Project</h2>
<p>Here’s the complete code for this web automation project, which
includes all the sections we’ve covered so far:</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the path below with the path to your WebDriver executable</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>driver_path <span class="op">=</span> <span class="st">&quot;/path/to/your/webdriver&quot;</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome(executable_path<span class="op">=</span>driver_path)</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the Amazon website</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&quot;https://www.amazon.com&quot;</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>browser.get(url)</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the search bar</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>search_bar <span class="op">=</span> browser.find_element_by_id(<span class="st">&quot;twotabsearchtextbox&quot;</span>)</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Enter the product name and perform the search</span></span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>product_name <span class="op">=</span> <span class="st">&quot;laptop&quot;</span></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>search_bar.send_keys(product_name)</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>search_bar.send_keys(Keys.RETURN)</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the search results to load</span></span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">5</span>)</span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the first product in the search results</span></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>first_product <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;.s-result-item .a-link-normal&quot;</span>)</span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Click on the first product to open the product page</span></span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a>first_product.click()</span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the product page to load</span></span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">5</span>)</span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the HTML source of the product page</span></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>html_source <span class="op">=</span> browser.page_source</span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse the HTML with Beautiful Soup</span></span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_source, <span class="st">&quot;html.parser&quot;</span>)</span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the product details</span></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a>product_name <span class="op">=</span> soup.select_one(<span class="st">&quot;#productTitle&quot;</span>).text.strip()</span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a>product_price <span class="op">=</span> soup.select_one(<span class="st">&quot;#priceblock_ourprice&quot;</span>).text.strip()</span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a>product_rating <span class="op">=</span> soup.select_one(<span class="st">&quot;.a-icon-star span&quot;</span>).text.strip()</span>
<span id="cb71-44"><a href="#cb71-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-45"><a href="#cb71-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the product details</span></span>
<span id="cb71-46"><a href="#cb71-46" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Product Details:&quot;</span>)</span>
<span id="cb71-47"><a href="#cb71-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;----------------&quot;</span>)</span>
<span id="cb71-48"><a href="#cb71-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Name: </span><span class="sc">{</span>product_name<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb71-49"><a href="#cb71-49" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Price: </span><span class="sc">{</span>product_price<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb71-50"><a href="#cb71-50" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Product Rating: </span><span class="sc">{</span>product_rating<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb71-51"><a href="#cb71-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-52"><a href="#cb71-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Close the browser</span></span>
<span id="cb71-53"><a href="#cb71-53" aria-hidden="true" tabindex="-1"></a>browser.quit()</span></code></pre></div>
<p>This complete script demonstrates how to automate the process of
searching for a product on an e-commerce website and retrieving the
product details using Python, Selenium WebDriver, and Beautiful
Soup.</p>
<h2 id="additional-resources-and-next-steps">4.10 Additional Resources
and Next Steps</h2>
<p>In this project, we have demonstrated how to automate a simple web
activity using Python, Selenium WebDriver, and Beautiful Soup. This
project can be extended and customized to suit various needs and
requirements. Some ideas for further exploration include:</p>
<ol type="1">
<li>Automate other web activities such as adding a product to the cart,
logging in, and checking out.</li>
<li>Build a more comprehensive product comparison tool that extracts
details from multiple products or websites.</li>
<li>Save the extracted product details to a file or database for later
analysis or comparison.</li>
<li>Implement error handling and robustness features to handle common
issues like timeouts, captchas, and page layout changes.</li>
</ol>
<p>To learn more about Python, Selenium WebDriver, and Beautiful Soup,
you can refer to the following resources:</p>
<ul>
<li><strong>Python Official Documentation</strong> available at: <a
href="https://docs.python.org/3/">https://docs.python.org/3/</a></li>
<li><strong>Selenium WebDriver Documentation</strong> available at:
[https://www.selenium.dev/documentation/en/]
(https://www.selenium.dev/documentation/en/)</li>
<li><strong>Beautiful Soup Documentation </strong> available at: <a
href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">https://www.crummy.com/software/BeautifulSoup/bs4/doc/</a></li>
</ul>
<p>These resources provide in-depth information and examples to help you
build more complex and robust web automation projects using Python and
related libraries.</p>
<h1 id="chapter-5-automating-form-filling-and-submission">Chapter 5:
Automating Form Filling and Submission</h1>
<p>In this chapter, we will explore how to automate form filling and
submission using Python and Selenium WebDriver. This is a common web
automation task that can be useful for tasks such as registering for a
website, submitting contact forms, or even participating in online
surveys.</p>
<h2 id="project-overview-1">5.1 Project Overview</h2>
<p>The goal of this project is to automate the process of filling out
and submitting a simple web form. To achieve this, we will use Python
and Selenium WebDriver to interact with form elements such as text
inputs, checkboxes, radio buttons, and buttons.</p>
<p>By the end of this project, you will have a better understanding of
how to:</p>
<ul>
<li>Identify and interact with different form elements using Selenium
WebDriver</li>
<li>Fill out and submit web forms programmatically</li>
<li>Handle common challenges and issues related to web form
automation</li>
</ul>
<p><strong>Note</strong>: This project assumes that you have a basic
understanding of Python and have completed the previous chapters. If you
need a refresher on Python or Selenium WebDriver, please refer to the
earlier chapters in this book.</p>
<h2 id="setting-up-the-project">5.2 Setting Up the Project</h2>
<p>Before we start writing the code, let’s set up the project by
installing the required libraries and configuring the Selenium
WebDriver.</p>
<h3 id="installing-required-libraries">5.2.1 Installing Required
Libraries</h3>
<p>To automate form filling and submission, we will be using the
following libraries:</p>
<ol type="1">
<li>Selenium WebDriver: To interact with web elements and perform
actions on them.</li>
<li>Beautiful Soup (optional): To parse and navigate the HTML content if
needed.</li>
</ol>
<p>If you haven’t already installed these libraries, you can do so using
the following commands:</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install selenium</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install beautifulsoup4</span></code></pre></div>
<h3 id="configuring-selenium-webdriver">5.2.2 Configuring Selenium
WebDriver</h3>
<p>As covered in the previous chapters, you will need to download the
appropriate WebDriver executable for your browser and add it to your
system PATH or provide the path to the executable in your script.</p>
<p>For a refresher on how to configure Selenium WebDriver, refer to
Chapter 3, Section 3.2.</p>
<h2 id="identifying-and-interacting-with-form-elements">5.3 Identifying
and Interacting with Form Elements</h2>
<p>In order to fill out and submit a web form, we first need to identify
the form elements on the page and interact with them using Selenium
WebDriver. In this section, we will cover how to locate and interact
with different types of form elements such as text inputs, checkboxes,
radio buttons, and buttons.</p>
<h3 id="text-inputs">5.3.1 Text Inputs</h3>
<p>Text inputs are used to enter text-based information like names,
email addresses, and passwords. To interact with a text input element,
we can use the <code>send_keys()</code> method provided by Selenium
WebDriver.</p>
<p>Here’s an example of how to locate a text input element by its
<code>name</code> attribute and fill it with some text:</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the text input element by its &#39;name&#39; attribute</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>text_input <span class="op">=</span> browser.find_element_by_name(<span class="st">&quot;username&quot;</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fill the text input with some text</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>text_input.send_keys(<span class="st">&quot;my_username&quot;</span>)</span></code></pre></div>
<h3 id="checkboxes">5.3.2 Checkboxes</h3>
<p>Checkboxes are used to select one or more options from a list. To
interact with a checkbox element, we can use the <code>click()</code>
method provided by Selenium WebDriver.</p>
<p>Here’s an example of how to locate a checkbox element by its
<code>id</code> attribute and check it if it’s not already checked:</p>
<div class="sourceCode" id="cb74"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the checkbox element by its &#39;id&#39; attribute</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>checkbox <span class="op">=</span> browser.find_element_by_id(<span class="st">&quot;terms_and_conditions&quot;</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the checkbox if it&#39;s not already checked</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> checkbox.is_selected():</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    checkbox.click()</span></code></pre></div>
<h3 id="radio-buttons">5.3.3 Radio Buttons</h3>
<p>Radio buttons are used to select one option from a group of mutually
exclusive options. Like checkboxes, we can interact with radio button
elements using the click() method provided by Selenium WebDriver.</p>
<p>Here’s an example of how to locate a radio button element by its
value attribute and select it:</p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the radio button element by its &#39;value&#39; attribute</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>radio_button <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;input[type=&#39;radio&#39;][value=&#39;option1&#39;]&quot;</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the radio button</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>radio_button.click()</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div>
<h3 id="buttons">5.3.4 Buttons</h3>
<p>Buttons are used to submit forms or perform other actions. To
interact with a button element, we can use the click() method provided
by Selenium WebDriver.</p>
<p>Here’s an example of how to locate a button element by its type
attribute and click it:</p>
<div class="sourceCode" id="cb76"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the button element by its &#39;type&#39; attribute</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>submit_button <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;button[type=&#39;submit&#39;]&quot;</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Click the button</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>submit_button.click()</span></code></pre></div>
<p>By combining these techniques, we can locate and interact with
various form elements to fill out and submit a web form
programmatically.</p>
<h2 id="filling-out-and-submitting-a-web-form">5.4 Filling Out and
Submitting a Web Form</h2>
<p>Now that we know how to interact with different form elements, let’s
put it all together and create a script to fill out and submit a simple
web form. For this example, we will use a demo form available at the
following URL:</p>
<p>https://example.com/form</p>
<p><strong>Note</strong>: Replace <code>example.com/form</code> with the
actual URL of a form you would like to use for this project.</p>
<p>Assuming our form has the following elements:</p>
<ul>
<li>A text input for the name with the <code>name</code> attribute set
to “name”</li>
<li>A text input for the email with the <code>name</code> attribute set
to “email”</li>
<li>A radio button for the user’s gender with the <code>value</code>
attribute set to “male” or “female”</li>
<li>A checkbox for agreeing to the terms and conditions with the
<code>id</code> attribute set to “terms_and_conditions”</li>
<li>A submit button with the <code>type</code> attribute set to
“submit”</li>
</ul>
<p>We can write the following script to fill out and submit the
form:</p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the path below with the path to your WebDriver executable</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>driver_path <span class="op">=</span> <span class="st">&quot;/path/to/your/webdriver&quot;</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome(executable_path<span class="op">=</span>driver_path)</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Open the form page</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>form_url <span class="op">=</span> <span class="st">&quot;https://example.com/form&quot;</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>browser.get(form_url)</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate and fill the name input</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>name_input <span class="op">=</span> browser.find_element_by_name(<span class="st">&quot;name&quot;</span>)</span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>name_input.send_keys(<span class="st">&quot;John Doe&quot;</span>)</span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate and fill the email input</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>email_input <span class="op">=</span> browser.find_element_by_name(<span class="st">&quot;email&quot;</span>)</span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>email_input.send_keys(<span class="st">&quot;john.doe@example.com&quot;</span>)</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate and select the male radio button</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>male_radio_button <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;input[type=&#39;radio&#39;][value=&#39;male&#39;]&quot;</span>)</span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>male_radio_button.click()</span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate and check the terms and conditions checkbox</span></span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>terms_and_conditions <span class="op">=</span> browser.find_element_by_id(<span class="st">&quot;terms_and_conditions&quot;</span>)</span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> terms_and_conditions.is_selected():</span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a>    terms_and_conditions.click()</span>
<span id="cb77-28"><a href="#cb77-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-29"><a href="#cb77-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate and click the submit button</span></span>
<span id="cb77-30"><a href="#cb77-30" aria-hidden="true" tabindex="-1"></a>submit_button <span class="op">=</span> browser.find_element_by_css_selector(<span class="st">&quot;button[type=&#39;submit&#39;]&quot;</span>)</span>
<span id="cb77-31"><a href="#cb77-31" aria-hidden="true" tabindex="-1"></a>submit_button.click()</span>
<span id="cb77-32"><a href="#cb77-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-33"><a href="#cb77-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Add any additional steps or validations here as needed</span></span>
<span id="cb77-34"><a href="#cb77-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-35"><a href="#cb77-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Close the browser</span></span>
<span id="cb77-36"><a href="#cb77-36" aria-hidden="true" tabindex="-1"></a>browser.quit()</span></code></pre></div>
<p>This script demonstrates how to automate the process of filling out
and submitting a web form using Python and Selenium WebDriver. You can
customize this script to suit your needs by changing the element
locators or adding additional steps as needed.</p>
<h2 id="handling-common-challenges-and-issues">5.5 Handling Common
Challenges and Issues</h2>
<p>Web form automation can sometimes be challenging due to various
issues such as dynamic content, non-standard form elements, CAPTCHAs,
and timeouts. In this section, we will discuss some common challenges
and potential solutions.</p>
<h3 id="dynamic-content">5.5.1 Dynamic Content</h3>
<p>Some forms may have dynamic content, meaning that certain elements or
options are only displayed based on the user’s input. To handle dynamic
content, you can use Selenium WebDriver’s <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for elements to become
available before interacting with them.</p>
<p>For example, if an element is initially hidden and becomes visible
after a certain action, you can wait for the element to be visible like
this:</p>
<div class="sourceCode" id="cb78"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support.ui <span class="im">import</span> WebDriverWait</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support <span class="im">import</span> expected_conditions <span class="im">as</span> EC</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.by <span class="im">import</span> By</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the element to be visible (up to 10 seconds)</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>element <span class="op">=</span> WebDriverWait(browser, <span class="dv">10</span>).until(</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    EC.visibility_of_element_located((By.ID, <span class="st">&quot;element_id&quot;</span>))</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<h3 id="non-standard-form-elements">5.5.2 Non-Standard Form
Elements</h3>
<p>Some websites may use non-standard form elements or custom JavaScript
to handle user input. In such cases, you may need to use alternative
approaches such as JavaScript injection or browser manipulation to
interact with the elements.</p>
<p>For example, if a website uses a custom dropdown menu, you can use
the <code>execute_script()</code> method provided by Selenium WebDriver
to directly set the value of the underlying hidden input element:</p>
<div class="sourceCode" id="cb79"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the value of a hidden input element using JavaScript</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>browser.execute_script(<span class="st">&quot;document.getElementById(&#39;hidden_input_id&#39;).value = &#39;desired_value&#39;;&quot;</span>)</span></code></pre></div>
<h3 id="captchas">5.5.3 CAPTCHAs</h3>
<p>CAPTCHAs are security measures used by websites to prevent automated
form submissions. While it’s not recommended to bypass CAPTCHAs for
ethical reasons, there are third-party services and libraries that can
help you solve them if necessary. Alternatively, you can pause the
script execution and let the user solve the CAPTCHA manually before
resuming the automation.</p>
<h3 id="timeouts">5.5.4 Timeouts</h3>
<p>When automating web forms, you may encounter situations where
elements take longer than expected to load or become available. To
handle such situations, you can use Selenium WebDriver’s
<code>WebDriverWait</code> and <code>expected_conditions</code> to wait
for elements to become available, as demonstrated in the Dynamic Content
section.</p>
<p>By understanding and addressing these common challenges, you can
create more robust and reliable web form automation scripts using Python
and Selenium WebDriver.</p>
<h2 id="additional-resources-and-next-steps-1">5.6 Additional Resources
and Next Steps</h2>
<p>In this chapter, we covered the basics of automating web form filling
and submission using Python and Selenium WebDriver. To further improve
your skills and knowledge, you can explore the following resources:</p>
<ol type="1">
<li><a href="https://www.selenium.dev/documentation/en/">Selenium
WebDriver documentation</a>: The official Selenium WebDriver
documentation provides detailed information about the various methods,
classes, and functionalities available in the library.</li>
<li><a href="https://selenium-python.readthedocs.io/">Selenium Python
bindings documentation</a>: The Selenium Python bindings documentation
is specifically focused on using Selenium with Python and provides
useful examples and explanations.</li>
<li><a href="https://developer.mozilla.org/en-US/">Mozilla Developer
Network (MDN) Web Docs</a>: MDN Web Docs is an excellent resource for
learning about web technologies, including HTML, CSS, and JavaScript,
which can help you better understand and manipulate web pages when
automating forms.</li>
</ol>
<p>As your next steps, you can try automating more complex forms,
handling advanced form elements, or integrating your automation scripts
with other tools and technologies such as databases, APIs, and reporting
systems. By continually expanding your skills and knowledge, you will
become a proficient web form automation expert using Python and Selenium
WebDriver.</p>
<p>With this, we have completed Chapter 5. Good luck on your journey to
mastering web form automation!</p>
<h1 id="chapter-6-automating-social-media-interaction">Chapter 6:
Automating Social Media Interaction</h1>
<p>In this chapter, we will explore how to automate social media
interactions using Python and Selenium WebDriver. By the end of this
chapter, you will have a foundational understanding of how to interact
with various social media platforms, and you will have completed a
project to automate posting a message on a social media site.</p>
<p>Let’s begin by understanding the basics of social media
automation.</p>
<h2 id="introduction-to-social-media-automation">6.1 Introduction to
Social Media Automation</h2>
<p>Social media automation refers to the process of using software tools
and scripts to perform repetitive tasks on social media platforms, such
as posting content, liking posts, following users, or sending messages.
With Python and Selenium WebDriver, you can automate various social
media interactions, allowing you to save time, streamline workflows, and
even perform automated testing on social media applications.</p>
<p>Some common use cases for social media automation include:</p>
<ul>
<li>Scheduling and posting content across multiple platforms</li>
<li>Automatically engaging with users (liking, commenting, following,
etc.)</li>
<li>Running social media campaigns</li>
<li>Monitoring social media accounts for specific keywords or
mentions</li>
<li>Testing social media applications and features</li>
</ul>
<p>In this chapter, we will focus on automating basic social media
interactions using Python and Selenium WebDriver. Please note that
automating social media platforms may be against the terms of service of
some platforms, so proceed with caution and use a test account for
learning purposes.</p>
<h2 id="setting-up-a-social-media-test-account">6.2 Setting Up a Social
Media Test Account</h2>
<p>Before we start automating social media interactions, it’s important
to set up a test account on the platform you want to work with. This
will allow you to experiment and learn without affecting your personal
or business accounts. Many social media platforms allow you to create
multiple accounts, but you should always check the platform’s terms of
service to ensure you are in compliance.</p>
<p>To set up a test account:</p>
<ol type="1">
<li>Choose a social media platform you want to work with, such as
Twitter, Facebook, Instagram, or LinkedIn.</li>
<li>Sign up for a new account using a separate email address or phone
number, if required by the platform.</li>
<li>Complete the registration process, including verifying your email
address or phone number, if necessary.</li>
<li>Configure any required settings, such as a profile picture or bio,
to complete the setup of your test account.</li>
</ol>
<p>Once you have set up a test account, you can use it for all the
automation examples and projects in this chapter. Remember to use this
test account responsibly and avoid spamming or engaging in activities
that may violate the platform’s terms of service.</p>
<h2 id="automating-login-and-logout-on-social-media-platforms">6.3
Automating Login and Logout on Social Media Platforms</h2>
<p>Before you can automate social media interactions, you first need to
log in to your test account. In this section, we will cover how to
automate the login and logout process on a social media platform using
Python and Selenium WebDriver.</p>
<h3 id="automating-login">6.3.1 Automating Login</h3>
<p>To automate the login process, follow these steps:</p>
<ol type="1">
<li>Navigate to the platform’s login page using
<code>browser.get()</code>.</li>
<li>Locate the username/email and password input fields using the
appropriate locators (e.g., <code>By.ID</code>, <code>By.NAME</code>,
<code>By.CSS_SELECTOR</code>, or <code>By.XPATH</code>).</li>
<li>Enter your test account credentials into the input fields using the
<code>send_keys()</code> method.</li>
<li>Locate the login button or form submission element and click on it
using the <code>click()</code> method.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the page to load or
specific elements to appear as confirmation that you are logged in.</li>
</ol>
<p>Here’s an example of how to automate the login process on
Twitter:</p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.by <span class="im">import</span> By</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support.ui <span class="im">import</span> WebDriverWait</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support <span class="im">import</span> expected_conditions <span class="im">as</span> EC</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace these with your test account credentials</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>username <span class="op">=</span> <span class="st">&quot;your_twitter_username&quot;</span></span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>password <span class="op">=</span> <span class="st">&quot;your_twitter_password&quot;</span></span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome()</span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a>browser.get(<span class="st">&quot;https://twitter.com/login&quot;</span>)</span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>username_input <span class="op">=</span> browser.find_element(By.NAME, <span class="st">&quot;session[username_or_email]&quot;</span>)</span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>password_input <span class="op">=</span> browser.find_element(By.NAME, <span class="st">&quot;session[password]&quot;</span>)</span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>username_input.send_keys(username)</span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>password_input.send_keys(password)</span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>password_input.send_keys(Keys.RETURN)</span>
<span id="cb80-20"><a href="#cb80-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-21"><a href="#cb80-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the home page to load</span></span>
<span id="cb80-22"><a href="#cb80-22" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="st">&quot;//span[text()=&#39;Home&#39;]&quot;</span>)))</span></code></pre></div>
<h3 id="automating-logout">6.3.2 Automating Logout</h3>
<p>To automate the logout process, follow these steps:</p>
<ol type="1">
<li>Locate and click on the menu or settings element that contains the
logout option.</li>
<li>Locate the logout option and click on it using the
<code>click()</code> method.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the login page or specific
elements to appear as confirmation that you are logged out.</li>
</ol>
<p>Here’s an example of how to automate the logout process on
Twitter:</p>
<div class="sourceCode" id="cb81"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.action_chains <span class="im">import</span> ActionChains</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Click on the menu element containing the logout option</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>menu_element <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;//div[@aria-label=&#39;Account menu&#39;]&quot;</span>)</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>menu_element.click()</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the menu to open and locate the logout option</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>logout_option <span class="op">=</span> WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="st">&quot;//span[text()=&#39;Log out&#39;]&quot;</span>)))</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Log out by clicking on the logout option</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>logout_option.click()</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the login page to load</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.NAME, <span class="st">&quot;session[username_or_email]&quot;</span>)))</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Close the browser</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>browser.quit()</span></code></pre></div>
<p>Now that you know how to automate the login and logout process, you
can apply this knowledge to other social media platforms by adjusting
the locators and element interactions as needed.</p>
<h2 id="posting-a-message-on-a-social-media-platform">6.4 Posting a
Message on a Social Media Platform</h2>
<p>In this section, we will demonstrate how to automate posting a
message on a social media platform using Python and Selenium WebDriver.
We will continue using our Twitter test account as an example.</p>
<p>To automate posting a message on Twitter, follow these steps:</p>
<ol type="1">
<li>Ensure you are logged in to your test account.</li>
<li>Locate the input field or textarea for composing a new message or
tweet.</li>
<li>Enter your message into the input field using the
<code>send_keys()</code> method.</li>
<li>Locate the button or form submission element to post the message and
click on it using the <code>click()</code> method.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the message to appear in
the feed or on your profile as confirmation that it has been
posted.</li>
</ol>
<p>Here’s an example of how to automate posting a message on
Twitter:</p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.keys <span class="im">import</span> Keys</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.common.by <span class="im">import</span> By</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support.ui <span class="im">import</span> WebDriverWait</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.support <span class="im">import</span> expected_conditions <span class="im">as</span> EC</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace these with your test account credentials</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>username <span class="op">=</span> <span class="st">&quot;your_twitter_username&quot;</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>password <span class="op">=</span> <span class="st">&quot;your_twitter_password&quot;</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>browser <span class="op">=</span> webdriver.Chrome()</span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>browser.get(<span class="st">&quot;https://twitter.com/login&quot;</span>)</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Log in to the test account</span></span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>username_input <span class="op">=</span> browser.find_element(By.NAME, <span class="st">&quot;session[username_or_email]&quot;</span>)</span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>password_input <span class="op">=</span> browser.find_element(By.NAME, <span class="st">&quot;session[password]&quot;</span>)</span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>username_input.send_keys(username)</span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a>password_input.send_keys(password)</span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a>password_input.send_keys(Keys.RETURN)</span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the home page to load</span></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="st">&quot;//span[text()=&#39;Home&#39;]&quot;</span>)))</span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the tweet input field and enter the message</span></span>
<span id="cb82-25"><a href="#cb82-25" aria-hidden="true" tabindex="-1"></a>tweet_input <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;//div[@aria-label=&#39;Tweet text&#39;]&quot;</span>)</span>
<span id="cb82-26"><a href="#cb82-26" aria-hidden="true" tabindex="-1"></a>message <span class="op">=</span> <span class="st">&quot;This is an automated tweet using Python and Selenium WebDriver!&quot;</span></span>
<span id="cb82-27"><a href="#cb82-27" aria-hidden="true" tabindex="-1"></a>tweet_input.send_keys(message)</span>
<span id="cb82-28"><a href="#cb82-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-29"><a href="#cb82-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the tweet button and click on it to post the message</span></span>
<span id="cb82-30"><a href="#cb82-30" aria-hidden="true" tabindex="-1"></a>tweet_button <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;//div[@aria-label=&#39;Tweet&#39;]/span/span&quot;</span>)</span>
<span id="cb82-31"><a href="#cb82-31" aria-hidden="true" tabindex="-1"></a>tweet_button.click()</span>
<span id="cb82-32"><a href="#cb82-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-33"><a href="#cb82-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the message to appear in the feed</span></span>
<span id="cb82-34"><a href="#cb82-34" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="ss">f&quot;//span[contains(text(), &#39;</span><span class="sc">{</span>message<span class="sc">}</span><span class="ss">&#39;)]&quot;</span>)))</span>
<span id="cb82-35"><a href="#cb82-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-36"><a href="#cb82-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Log out and close the browser</span></span>
<span id="cb82-37"><a href="#cb82-37" aria-hidden="true" tabindex="-1"></a><span class="co"># (Refer to the previous section for the logout automation code)</span></span></code></pre></div>
<p>You can apply the same process to other social media platforms by
adjusting the locators and element interactions as needed. Always ensure
that you follow the platform’s terms of service and use your test
account responsibly.</p>
<h2 id="liking-and-unliking-a-post-on-a-social-media-platform">6.5
Liking and Unliking a Post on a Social Media Platform</h2>
<p>In this section, we will demonstrate how to automate liking and
unliking a post on a social media platform using Python and Selenium
WebDriver. We will continue using our Twitter test account as an
example.</p>
<h3 id="automating-liking-a-post">6.5.1 Automating Liking a Post</h3>
<p>To automate liking a post on Twitter, follow these steps:</p>
<ol type="1">
<li>Ensure you are logged in to your test account.</li>
<li>Navigate to the post you want to like, either by searching for it or
by visiting a specific user’s profile.</li>
<li>Locate the like button or element associated with the post.</li>
<li>Click on the like button using the <code>click()</code> method.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the like button’s
appearance to change as confirmation that the post has been liked.</li>
</ol>
<p>Here’s an example of how to automate liking a post on Twitter:</p>
<div class="sourceCode" id="cb83"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming you are already logged in to the test account</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Navigate to a specific user&#39;s profile and wait for the page to load</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>browser.get(<span class="st">&quot;https://twitter.com/username_of_the_user&quot;</span>)</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="st">&quot;//span[text()=&#39;Tweets&#39;]&quot;</span>)))</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the like button for the first tweet and click on it to like the post</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>like_button <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;(//div[@aria-label=&#39;Like&#39;])[1]&quot;</span>)</span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>like_button.click()</span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the like button&#39;s appearance to change</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.attribute_contains(like_button, <span class="st">&quot;aria-pressed&quot;</span>, <span class="st">&quot;true&quot;</span>))</span></code></pre></div>
<h3 id="automating-unliking-a-post">6.5.2 Automating Unliking a
Post</h3>
<p>To automate unliking a post on Twitter, follow these steps:</p>
<ol type="1">
<li>Ensure you are logged in to your test account.</li>
<li>Navigate to the post you want to unlike, either by searching for it
or by visiting a specific user’s profile.</li>
<li>Locate the like button or element associated with the post, which
should be in a “liked” state.</li>
<li>Click on the like button again using the <code>click()</code> method
to unlike the post.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the like button’s
appearance to change back as confirmation that the post has been
unliked.</li>
</ol>
<p>Here’s an example of how to automate unliking a post on Twitter:</p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming you are already logged in to the test account and have navigated to the post you want to unlike</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the like button for the first tweet, which should be in a &quot;liked&quot; state, and click on it to unlike the post</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>like_button <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;(//div[@aria-label=&#39;Like&#39; and @aria-pressed=&#39;true&#39;])[1]&quot;</span>)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>like_button.click()</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the like button&#39;s appearance to change back</span></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.attribute_contains(like_button, <span class="st">&quot;aria-pressed&quot;</span>, <span class="st">&quot;false&quot;</span>))</span></code></pre></div>
<p>You can apply the same process to other social media platforms by
adjusting the locators and element interactions as needed. Remember to
use your test account responsibly and avoid spamming or engaging in
activities that may violate the platform’s terms of service.</p>
<h2 id="following-and-unfollowing-users-on-a-social-media-platform">6.6
Following and Unfollowing Users on a Social Media Platform</h2>
<p>In this section, we will demonstrate how to automate following and
unfollowing users on a social media platform using Python and Selenium
WebDriver. We will continue using our Twitter test account as an
example.</p>
<h3 id="automating-following-a-user">6.6.1 Automating Following a
User</h3>
<p>To automate following a user on Twitter, follow these steps:</p>
<ol type="1">
<li>Ensure you are logged in to your test account.</li>
<li>Navigate to the user’s profile you want to follow.</li>
<li>Locate the follow button or element associated with the user.</li>
<li>Click on the follow button using the <code>click()</code>
method.</li>
<li>Optionally, use <code>WebDriverWait</code> and
<code>expected_conditions</code> to wait for the follow button’s
appearance to change as confirmation that you have followed the
user.</li>
</ol>
<p>Here’s an example of how to automate following a user on Twitter:</p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming you are already logged in to the test account</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Navigate to a specific user&#39;s profile and wait for the page to load</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>browser.get(<span class="st">&quot;https://twitter.com/username_of_the_user&quot;</span>)</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="st">&quot;//span[text()=&#39;Tweets&#39;]&quot;</span>)))</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the follow button and click on it to follow the user</span></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>follow_button <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;//span[text()=&#39;Follow&#39;]&quot;</span>)</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>follow_button.click()</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the follow button&#39;s appearance to change</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.text_to_be_present_in_element((By.XPATH, <span class="st">&quot;//span[text()=&#39;Following&#39;]&quot;</span>), <span class="st">&quot;Following&quot;</span>))</span></code></pre></div>
<h3 id="automating-unfollowing-a-user">6.6.2 Automating Unfollowing a
User</h3>
<p>To automate unfollowing a user on Twitter, follow these steps:</p>
<ol type="1">
<li>Ensure you are logged in to your test account.</li>
<li>Navigate to the user’s profile you want to unfollow.</li>
<li>Locate the follow button or element associated with the user, which
should be in a “following” state.</li>
<li>Click on the follow button again using the click() method to
unfollow the user.</li>
<li>Optionally, use WebDriverWait and expected_conditions to wait for
the follow button’s appearance to change back as confirmation that you
have unfollowed the user.</li>
</ol>
<p>Here’s an example of how to automate unfollowing a user on
Twitter:</p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming you are already logged in to the test account and have navigated to the user&#39;s profile you want to unfollow</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Locate the follow button, which should be in a &quot;following&quot; state, and click on it to unfollow the user</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>follow_button <span class="op">=</span> browser.find_element(By.XPATH, <span class="st">&quot;//span[text()=&#39;Following&#39;]&quot;</span>)</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>follow_button.click()</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Confirm the unfollow action in the modal dialog that appears</span></span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>unfollow_confirm_button <span class="op">=</span> WebDriverWait(browser, <span class="dv">10</span>).until(EC.element_to_be_clickable((By.XPATH, <span class="st">&quot;//span[text()=&#39;Unfollow&#39;]&quot;</span>)))</span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>unfollow_confirm_button.click()</span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Wait for the follow button&#39;s appearance to change back</span></span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>WebDriverWait(browser, <span class="dv">10</span>).until(EC.text_to_be_present_in_element((By.XPATH, <span class="st">&quot;//span[text()=&#39;Follow&#39;]&quot;</span>), <span class="st">&quot;Follow&quot;</span>))</span></code></pre></div>
<p>You can apply the same process to other social media platforms by
adjusting the locators and element interactions as needed. Remember to
use your test account responsibly and avoid spamming or engaging in
activities that may violate the platform’s terms of service.</p>
<h2 id="summary-2">6.7 Summary</h2>
<p>In this chapter, we covered various ways to automate social media
activities using Python and Selenium WebDriver. We discussed how to:</p>
<ol type="1">
<li>Log in and log out of a social media account.</li>
<li>Post a status update or tweet.</li>
<li>Automate replying to a post or tweet.</li>
<li>Automate retweeting a tweet.</li>
<li>Automate liking and unliking a post.</li>
<li>Automate following and unfollowing users.</li>
</ol>
<p>Remember to use your test accounts responsibly and avoid spamming or
engaging in activities that may violate the platform’s terms of service.
The examples provided in this chapter can be adapted to other social
media platforms by adjusting the locators and element interactions as
needed.</p>
<p>For more advanced social media automation, consider exploring APIs
provided by social media platforms, which may offer more efficient and
safer ways to interact with their services.</p>
<p>In the next chapter, we will explore another test automation project,
focusing on automating form filling and submission on a website.</p>
<h1 id="chapter-7-api-automation">Chapter 7: API Automation</h1>
<h2 id="introduction-to-web-apis">7.1 Introduction to Web APIs</h2>
<p>Application Programming Interfaces (APIs) are a crucial part of the
modern web. They allow applications to communicate with each other and
exchange information, making it easier for developers to build and
integrate various services. Web APIs, specifically, provide a way for
applications to interact with web services using standardized protocols
like HTTP.</p>
<p>In this chapter, we will explore how to automate web APIs using
Python. We will cover the following topics:</p>
<ul>
<li>Making API requests using the Requests library</li>
<li>Handling JSON data in Python</li>
<li>Project - Automating weather data retrieval using OpenWeatherMap
API</li>
</ul>
<p>By the end of this chapter, you will have a good understanding of how
to work with web APIs and how to automate their usage in your Python
projects.</p>
<h2 id="making-api-requests-using-the-requests-library">7.2 Making API
Requests using the Requests Library</h2>
<p>Python’s Requests library provides a simple and elegant way to
interact with web APIs. It allows you to send HTTP/1.1 requests, handle
responses, and easily integrate with web services.</p>
<p>To make a request using the Requests library, you first need to
install it. You can do this using pip, the Python package manager, by
running the following command:</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install requests</span></code></pre></div>
<p>Once installed, you can import the library and start making requests.
Here’s an example of how to make a simple GET request:</p>
<div class="sourceCode" id="cb88"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(<span class="st">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span>)</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.status_code)</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(response.json())</span></code></pre></div>
<p>!!! note In this example, we make a GET request to the
<code>JSONPlaceholder</code> API, which returns a list of posts in JSON
format. We then print the HTTP status code and the JSON data returned by
the API.</p>
<p>Requests supports various HTTP methods like GET, POST, PUT, DELETE,
and more. It also allows you to add parameters, headers, and other
options to your requests. You can check out the Requests library
documentation for more information and examples.</p>
<p>In the next section, we will discuss how to handle JSON data in
Python.</p>
<h2 id="handling-json-data-in-python">7.3 Handling JSON Data in
Python</h2>
<p>JSON (JavaScript Object Notation) is a lightweight data format that
is widely used in web APIs to transmit data between client and server.
Python provides a built-in module called <code>json</code> to handle
JSON data.</p>
<p>To work with JSON data in Python, you first need to import the
<code>json</code> module. Here’s an example of how to load JSON data
from a string:</p>
<div class="sourceCode" id="cb89"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>json_string <span class="op">=</span> <span class="st">&#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30, &quot;city&quot;: &quot;New York&quot;}&#39;</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> json.loads(json_string)</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[<span class="st">&#39;name&#39;</span>])</span></code></pre></div>
<p>!!! note In this example, we load a <code>JSON</code> string into a
Python dictionary using the <code>json.loads()</code> method. We then
print the dictionary and access the value of the name key.</p>
<p>Similarly, you can use the <code>json.dumps()</code> method to
convert a Python object into a JSON string:</p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;name&#39;</span>: <span class="st">&#39;John&#39;</span>,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;age&#39;</span>: <span class="dv">30</span>,</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;city&#39;</span>: <span class="st">&#39;New York&#39;</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>json_string <span class="op">=</span> json.dumps(data)</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(json_string)</span></code></pre></div>
<p>In this example, we convert a Python dictionary into a JSON string
using the <code>json.dumps()</code> method.</p>
<p>In the next section, we will apply what we have learned so far to
automate weather data retrieval using the OpenWeatherMap API.</p>
<h2
id="project---automating-weather-data-retrieval-using-openweathermap-api">7.4
Project - Automating Weather Data Retrieval using OpenWeatherMap
API</h2>
<p>In this project, we will apply the concepts we have learned so far to
automate the retrieval of weather data using the OpenWeatherMap API.</p>
<p>!!! API-Key Before we can use the OpenWeatherMap API, we need to
obtain an API key. You can sign up for a free account at
https://home.openweathermap.org/users/sign_up and obtain an API key from
your account dashboard.</p>
<h3 id="making-api-requests">7.4.2 Making API Requests</h3>
<p>Once you have obtained an API key, you can start making requests to
the OpenWeatherMap API. Here’s an example of how to retrieve the current
weather data for a city using the Requests library:</p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>api_key <span class="op">=</span> <span class="st">&#39;&lt;your_api_key&gt;&#39;</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>city <span class="op">=</span> <span class="st">&#39;New York&#39;</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="ss">f&#39;https://api.openweathermap.org/data/2.5/weather?q=</span><span class="sc">{</span>city<span class="sc">}</span><span class="ss">&amp;appid=</span><span class="sc">{</span>api_key<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> json.loads(response.text)</span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Current temperature in </span><span class="sc">{</span>city<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>data[<span class="st">&quot;main&quot;</span>][<span class="st">&quot;temp&quot;</span>]<span class="sc">}</span><span class="ss"> K&#39;</span>)</span></code></pre></div>
<p>In this example, we retrieve the current weather data for London
using the OpenWeatherMap API. We first construct the API URL with the
API key and the desired city. We then make a GET request to the API
using the Requests library and load the JSON response into a Python
dictionary. Finally, we print the current temperature in the city.</p>
<h3 id="project-task">7.4.3 Project Task</h3>
<p>Your task is to write a Python script that automates the retrieval of
weather data for a list of cities using the OpenWeatherMap API. The
script should read the list of cities from a file and output the weather
data to another file.</p>
<p>Here are the requirements for the project:</p>
<ul>
<li>The input file should contain a list of cities, one per line.</li>
<li>The script should use the OpenWeatherMap API to retrieve the current
weather data for each city.</li>
<li>The script should output the weather data to a CSV file, with
columns for city, temperature, humidity, pressure, and wind speed.</li>
<li>The script should handle errors gracefully, such as when a city is
not found or the API request fails.</li>
</ul>
<p>You can use the examples and concepts discussed in this chapter to
complete the project. Good luck!</p>
<h2 id="additional-resources">7.5 Additional Resources</h2>
<p>Here are some additional resources for learning about web APIs and
Python:</p>
<ul>
<li>The Requests library documentation:
https://docs.python-requests.org/en/master/</li>
<li>The JSON module documentation:
https://docs.python.org/3/library/json.html</li>
<li>The OpenWeatherMap API documentation:
https://openweathermap.org/api</li>
<li>The Python API tutorial: https://realpython.com/python-api/</li>
<li>The REST API tutorial: https://restfulapi.net/</li>
</ul>
<p>In addition to these resources, there are many web APIs available for
practicing and learning. You can explore APIs for social media
platforms, e-commerce websites, news outlets, and more.</p>
<p>Remember to always read the API documentation carefully and follow
any usage limits or restrictions. Happy automating!</p>
<h2 id="summary-3">7.6 Summary</h2>
<p>In this chapter, we learned about web APIs and how to automate them
using Python. We covered the basics of making API requests using the
Requests library, and how to handle JSON data in Python. We also
completed a project that demonstrated how to retrieve weather data using
the OpenWeatherMap API.</p>
<p>API automation is a powerful tool for integrating different
applications and services. By using web APIs, we can retrieve and
manipulate data in a programmatic way, without the need for manual
intervention. Python provides many libraries and tools for working with
web APIs, making it an ideal language for API automation.</p>
<h1 id="chapter-8-web-scraping">Chapter 8: Web Scraping</h1>
<p>In this chapter, we will learn about web scraping and how to use
Python to extract data from websites. We will cover the following
topics:</p>
<ul>
<li>Introduction to web scraping</li>
<li>Installing and using Beautiful Soup</li>
<li>Navigating HTML and extracting information</li>
<li>Project - Scraping news headlines from a news website</li>
<li>Other tools used for scraping</li>
<li>Summary</li>
</ul>
<h2 id="introduction-to-web-scraping">8.1 Introduction to Web
Scraping</h2>
<p>Web scraping is the process of extracting data from websites. With
web scraping, we can automate the process of gathering information from
websites, saving time and effort.</p>
<p>Web scraping can be used for a variety of purposes, such as data
analysis, research, or monitoring. For example, we might want to scrape
a news website to gather headlines, or scrape an e-commerce website to
gather product information.</p>
<p>There are many tools and libraries available for web scraping, but in
this chapter we will focus on Beautiful Soup, a Python library for
parsing HTML and XML documents. Beautiful Soup makes it easy to navigate
HTML documents and extract the information we need.</p>
<p>In the next section, we will learn how to install and use Beautiful
Soup.</p>
<h2 id="installing-and-using-beautiful-soup">8.2 Installing and Using
Beautiful Soup</h2>
<p>Beautiful Soup is a Python library for parsing HTML and XML
documents. It is available on PyPI, so we can install it using pip:</p>
<div class="sourceCode" id="cb92"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install beautifulsoup4</span></code></pre></div>
<p>Once Beautiful Soup is installed, we can begin using it in our Python
scripts.</p>
<p>To use Beautiful Soup, we first need to import it into our Python
script. We can do this by adding the following line at the beginning of
our script:</p>
<div class="sourceCode" id="cb93"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span></code></pre></div>
<p>We can then create a Beautiful Soup object by passing an HTML or XML
document to the BeautifulSoup constructor. For example:</p>
<div class="sourceCode" id="cb94"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>html_doc <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;html&gt;</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;head&gt;</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;title&gt;Web Scraping Example&lt;/title&gt;</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/head&gt;</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;body&gt;</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;h1&gt;Welcome to my website&lt;/h1&gt;</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;p&gt;Here is some text.&lt;/p&gt;</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;ul&gt;</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;li&gt;Item 1&lt;/li&gt;</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;li&gt;Item 2&lt;/li&gt;</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="st">        &lt;li&gt;Item 3&lt;/li&gt;</span></span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;/ul&gt;</span></span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/body&gt;</span></span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a><span class="st">&lt;/html&gt;</span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&quot;&quot;</span></span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(html_doc, <span class="st">&#39;html.parser&#39;</span>)</span></code></pre></div>
<p>!!! note In this example, we have created a Beautiful Soup object
called <code>soup</code> by passing an HTML document to the
<code>BeautifulSoup</code> constructor. The <code>html.parser</code>
argument tells Beautiful Soup to use Python’s built-in HTML parser to
parse the document.</p>
<p>In the next section, we will learn how to navigate HTML documents and
extract information using Beautiful Soup.</p>
<h2 id="navigating-html-and-extracting-information">8.3 Navigating HTML
and Extracting Information</h2>
<p>Once we have a Beautiful Soup object, we can navigate the HTML
document and extract the information we need.</p>
<p>We can use various methods and attributes provided by Beautiful Soup
to navigate the HTML document. For example, we can use the
<code>find</code> method to find the first occurrence of a tag in the
document:</p>
<div class="sourceCode" id="cb95"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>first_item <span class="op">=</span> soup.find(<span class="st">&#39;li&#39;</span>)</span></code></pre></div>
<p>In this example, we have used the find method to find the first
occurrence of the li tag in the document.</p>
<p>We can also use the find_all method to find all occurrences of a tag
in the document:</p>
<div class="sourceCode" id="cb96"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>all_items <span class="op">=</span> soup.find_all(<span class="st">&#39;li&#39;</span>)</span></code></pre></div>
<p>!!! note In this example, we have used the <code>find_all</code>
method to find all occurrences of the <code>li</code> tag in the
document.</p>
<p>We can also navigate the document using CSS selectors. For example,
we can use the <code>select</code> method to find all elements that
match a CSS selector:</p>
<div class="sourceCode" id="cb97"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>items <span class="op">=</span> soup.select(<span class="st">&#39;li&#39;</span>)</span></code></pre></div>
<p>In this example, we have used the <code>select</code> method to find
all li elements in the document.</p>
<p>Once we have located the element or elements we are interested in, we
can extract the information we need. For example, we can use the
<code>text</code> attribute to extract the text content of an
element:</p>
<div class="sourceCode" id="cb98"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>item_text <span class="op">=</span> first_item.text</span></code></pre></div>
<p>In this example, we have used the <code>text</code> attribute to
extract the text content of the <code>li</code> element.</p>
<p>We can also extract attributes of an element using dictionary-like
syntax:</p>
<div class="sourceCode" id="cb99"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>link <span class="op">=</span> soup.find(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>href <span class="op">=</span> link[<span class="st">&#39;href&#39;</span>]</span></code></pre></div>
<p>In this example, we have found the first occurrence of an a tag and
extracted its href attribute.</p>
<p>In the next section, we will apply these techniques to a project
where we will scrape news headlines from a news website.</p>
<h2 id="project---scraping-news-headlines-from-a-news-website">8.4
Project - Scraping News Headlines from a News Website</h2>
<p>In this project, we will use Beautiful Soup to scrape news headlines
from a news website. We will first identify the HTML structure of the
website and then use Beautiful Soup to extract the headlines.</p>
<p>We will use the <a href="https://www.bbc.com/news">BBC News</a> as an
example. To scrape the headlines, we will follow these steps:</p>
<ol type="1">
<li>Send an HTTP request to the website using the requests library.</li>
<li>Parse the HTML content of the response using Beautiful Soup.</li>
<li>Find the HTML elements that contain the headlines using Beautiful
Soup.</li>
<li>Extract the text content of the elements to obtain the
headlines.</li>
</ol>
<p>Here’s the code:</p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Send an HTTP request to the website</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&#39;https://www.bbc.com/news&#39;</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Parse the HTML content of the response</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.content, <span class="st">&#39;html.parser&#39;</span>)</span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Find the HTML elements that contain the headlines</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>headlines <span class="op">=</span> soup.select(<span class="st">&#39;.gs-c-promo-heading__title&#39;</span>)</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Extract the text content of the elements</span></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> headline <span class="kw">in</span> headlines:</span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(headline.text)</span></code></pre></div>
<p>!!! note In this code, we first send an HTTP request to the BBC News
website using the <code>requests</code> library. We then parse the HTML
content of the response using Beautiful Soup. We use a CSS selector to
find all elements with the class <code>gs-c-promo-heading__title</code>,
which correspond to the headlines on the website. Finally, we extract
the text content of each element using the <code>text</code> attribute
and print it to the console.</p>
<p>This project demonstrates how web scraping can be used to extract
useful information from websites. However, it is important to note that
web scraping may be prohibited by some websites, and it is always a good
idea to check the website’s terms of service before scraping its
content.</p>
<h2 id="other-tools-used-for-scraping">8.5 Other Tools Used for
Scraping</h2>
<p>While Beautiful Soup is a powerful tool for web scraping, there are
other tools and libraries that can also be used. Some of these
include:</p>
<ul>
<li><p><strong>Scrapy</strong>: A Python framework for web scraping that
provides more advanced features such as built-in support for handling
common web scraping tasks like following links, handling cookies and
session management, and dealing with asynchronous requests.</p></li>
<li><p><strong>Selenium</strong>: A web driver that allows for
automation of web browsers. It is often used for testing web
applications, but can also be used for web scraping. Selenium can
interact with web pages in the same way that a human user would, making
it useful for scraping dynamic web pages.</p></li>
<li><p><strong>Pandas</strong>: A popular data manipulation library in
Python that can be used for scraping and cleaning data. It provides
powerful tools for manipulating data in various formats including CSV,
Excel, SQL databases, and HTML.</p></li>
<li><p><strong>Requests-HTML</strong>: A Python library that provides a
high-level interface for web scraping. It is built on top of the
Requests library and provides a simple API for interacting with HTML
pages.</p></li>
</ul>
<p>Each of these tools has its own strengths and weaknesses, and the
choice of tool will depend on the specific requirements of the project.
In this book, we have focused on Beautiful Soup as it provides a simple
and easy-to-use interface for web scraping.</p>
<p>In the next section, we will summarize what we have learned in this
chapter.</p>
<h2 id="summary-4">8.6 Summary</h2>
<p>In this chapter, we have learned about web scraping, which is the
process of extracting information from websites. We have covered the
following topics:</p>
<ul>
<li>Introduction to web scraping and its applications.</li>
<li>Installing and using Beautiful Soup, which is a Python library for
web scraping.</li>
<li>Navigating HTML and extracting information using Beautiful
Soup.</li>
<li>Completed a project on scraping news headlines from a news website
using Beautiful Soup.</li>
<li>Overview of other tools that can be used for web scraping.</li>
</ul>
<p>!!! warning Web scraping is a powerful technique that can be used to
extract information from websites. However, it is important to be aware
of the legal and ethical issues surrounding web scraping. Some websites
prohibit web scraping in their terms of service, and scraping can
sometimes cause performance issues for the website being scraped.</p>
<h1 id="chapter-9-test-automation-suites">Chapter 9: Test Automation
Suites</h1>
<p>In this chapter, we will delve into the core aspects of building and
organizing efficient test automation suites for Python applications. As
the complexity of software systems grows, it becomes increasingly
important to ensure that your application is thoroughly tested and
reliable. An effective test automation suite can be a powerful tool in
achieving this goal.</p>
<h2 id="modular-and-reusable-code">9.1 Modular and Reusable Code</h2>
<p>In this section, we will discuss the significance of creating modular
and reusable code in test automation suites. Writing modular code
involves breaking down your test suite into smaller, self-contained
units, while reusable code is designed to be easily shared and utilized
across multiple test cases. Both of these principles are essential for
building efficient, maintainable, and scalable test automation
suites.</p>
<p>Some benefits of modular and reusable code include:</p>
<ul>
<li><strong>Improved code maintainability</strong>: Smaller,
self-contained units are easier to understand, update, and debug.</li>
<li><strong>Enhanced collaboration</strong>: Modular code allows
multiple team members to work on different parts of the test suite
simultaneously without conflicts.</li>
<li><strong>Code reusability</strong>: Reusable code reduces
duplication, making the test suite easier to manage and less prone to
errors.</li>
<li><strong>Faster test execution</strong>: Modular and reusable code
allows you to run only the relevant tests, reducing the overall
execution time.</li>
</ul>
<p>To demonstrate the concept of modular code, let’s examine a simple
example. Assume we have an e-commerce application, and we need to test
user registration, login, and purchasing workflows. Instead of writing a
single monolithic test case, we can break it down into smaller, more
manageable test cases:</p>
<div class="sourceCode" id="cb101"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_user_registration():</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test user registration</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_user_login():</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test user login</span></span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_user_purchase():</span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test user purchase</span></span></code></pre></div>
<p>By separating each workflow into its own test case, we make the code
more readable and easier to maintain.</p>
<p>Let’s look at another example:</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> login(username, password):</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to perform login with given credentials</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_valid_login():</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Call the reusable login function with valid credentials</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>    login(<span class="st">&#39;valid_user&#39;</span>, <span class="st">&#39;valid_password&#39;</span>)</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_invalid_login():</span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Call the reusable login function with invalid credentials</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>    login(<span class="st">&#39;invalid_user&#39;</span>, <span class="st">&#39;invalid_password&#39;</span>)</span></code></pre></div>
<p>In this example, we have created a reusable login function that can
be used in multiple test cases. This helps us avoid code duplication and
makes the test suite more maintainable.</p>
<h2 id="test-suite-architecture">9.2 Test Suite Architecture</h2>
<p>In this section, we will explore the typical architecture of a test
suite, discussing different classes and methods used to organize your
test cases. A well-structured test suite helps maintain a clean and
organized codebase, making it easier to understand and manage as the
application grows.</p>
<p>A typical test suite consists of the following components:</p>
<ul>
<li><strong>Test cases</strong>: Individual tests that verify specific
aspects of the application’s functionality.</li>
<li><strong>Test data</strong>: Input data and expected results used to
execute the test cases.</li>
<li><strong>Test fixtures</strong>: Resources required to set up the
test environment, such as database connections or test configuration
files.</li>
<li><strong>Test runner</strong>: A tool or script that discovers and
executes the test cases.</li>
<li><strong>Test utilities</strong>: Helper functions and classes that
assist in writing, managing, and executing test cases.</li>
</ul>
<p>Organizing test cases using classes and methods helps you group
related tests together and share common setup and teardown code.
Python’s unittest library provides a convenient way to create test
classes, which inherit from the unittest.TestCase base class.</p>
<p>Here’s an example of a test suite for an e-commerce application,
organized into different test classes and methods:</p>
<div class="sourceCode" id="cb103"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to set up test environment</span></span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to clean up after each test</span></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user registration</span></span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserLogin(unittest.TestCase):</span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to set up test environment</span></span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb103-21"><a href="#cb103-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to clean up after each test</span></span>
<span id="cb103-22"><a href="#cb103-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-23"><a href="#cb103-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_login(<span class="va">self</span>):</span>
<span id="cb103-24"><a href="#cb103-24" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user login</span></span>
<span id="cb103-25"><a href="#cb103-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-26"><a href="#cb103-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_login(<span class="va">self</span>):</span>
<span id="cb103-27"><a href="#cb103-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user login</span></span>
<span id="cb103-28"><a href="#cb103-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-29"><a href="#cb103-29" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserPurchase(unittest.TestCase):</span>
<span id="cb103-30"><a href="#cb103-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb103-31"><a href="#cb103-31" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to set up test environment</span></span>
<span id="cb103-32"><a href="#cb103-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-33"><a href="#cb103-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb103-34"><a href="#cb103-34" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to clean up after each test</span></span>
<span id="cb103-35"><a href="#cb103-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-36"><a href="#cb103-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_successful_purchase(<span class="va">self</span>):</span>
<span id="cb103-37"><a href="#cb103-37" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test successful user purchase</span></span>
<span id="cb103-38"><a href="#cb103-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-39"><a href="#cb103-39" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_failed_purchase(<span class="va">self</span>):</span>
<span id="cb103-40"><a href="#cb103-40" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test failed user purchase</span></span>
<span id="cb103-41"><a href="#cb103-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-42"><a href="#cb103-42" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb103-43"><a href="#cb103-43" aria-hidden="true" tabindex="-1"></a>    unittest.main()</span></code></pre></div>
<p>In this example, we have organized test cases into separate classes
for user registration, login, and purchase. Each class contains test
methods to verify different scenarios within the respective
functionality. The <code>setUp</code> and <code>tearDown</code> methods
are used for initializing and cleaning up the test environment before
and after each test method.</p>
<h2 id="tagging-test-cases">9.3 Tagging Test Cases</h2>
<p>In this section, we will discuss how to organize test suites and tag
test cases with labels, such as ‘skip’ and ‘slow running’. Proper
organization and tagging make it easier to manage, prioritize, and
maintain your test suite, especially as the number of test cases
grows.</p>
<p>Python’s <code>unittest</code> library provides several decorators
that allow you to tag test cases with specific attributes. Some common
tags include:</p>
<ul>
<li><code>@unittest.skip</code>: Skips the execution of the test
case.</li>
<li><code>@unittest.skipIf</code>: Skips the test case if a specified
condition is true.</li>
<li><code>@unittest.skipUnless</code>: Skips the test case unless a
specified condition is true.</li>
<li><code>@unittest.expectedFailure</code>: Indicates that the test case
is expected to fail.</li>
</ul>
<p>Here is an example of using these decorators to tag test cases:</p>
<div class="sourceCode" id="cb104"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserLogin(unittest.TestCase):</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">@unittest.skip</span>(<span class="st">&quot;Temporarily skipping this test.&quot;</span>)</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_login(<span class="va">self</span>):</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user login</span></span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">@unittest.skipIf</span>(condition, <span class="st">&quot;Skipping this test if condition is true.&quot;</span>)</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_login(<span class="va">self</span>):</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user login</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">@unittest.expectedFailure</span></span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_login_with_special_characters(<span class="va">self</span>):</span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test login with special characters in username and password</span></span></code></pre></div>
<p>You can also use Custom Tags for Test Cases. To do this, you can use
the <code>attr</code> decorator provided by the
<code>unittest-attributes</code> package. You’ll first need to install
the package:</p>
<div class="sourceCode" id="cb105"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install unittest-attributes</span></code></pre></div>
<p>Now, you can use the <code>@attr</code> decorator to tag your test
cases with custom labels:</p>
<div class="sourceCode" id="cb106"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> unittest_attributes <span class="im">import</span> attr</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserPurchase(unittest.TestCase):</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">@attr</span>(<span class="st">&#39;slow_running&#39;</span>)</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_successful_purchase(<span class="va">self</span>):</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test successful user purchase</span></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">@attr</span>(<span class="st">&#39;fast&#39;</span>)</span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_failed_purchase(<span class="va">self</span>):</span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test failed user purchase</span></span></code></pre></div>
<p>To run test cases based on their tags, you can use the
<code>-k</code> flag when running your tests with the
<code>unittest</code> command-line tool:</p>
<div class="sourceCode" id="cb107"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> unittest <span class="at">-k</span> <span class="st">&#39;slow_running&#39;</span></span></code></pre></div>
<p>This command will run only the test cases tagged with
‘slow_running’.</p>
<h2 id="organizing-test-suites">9.4 Organizing Test Suites</h2>
<p>Besides tagging, you can also organize your test suite by creating
subdirectories for different functional areas and placing the
corresponding test files in those directories. This approach helps you
maintain a clean and structured test suite as your application
grows.</p>
<p>For example, you can organize your test suite for an e-commerce
application as follows:</p>
<pre class="console"><code>
tests/
  ├── user_management/
  │   ├── test_registration.py
  │   └── test_login.py
  ├── product_management/
  │   ├── test_add_product.py
  │   └── test_remove_product.py
  ├── order_management/
  │   ├── test_create_order.py
  │   └── test_cancel_order.py
  └── utils/
      ├── test_helpers.py
      └── test_validators.py
</code></pre>
<p>In the next section, we will discuss using decorators as helpers to
further enhance your test automation suite.</p>
<h2 id="decorators-and-helper-routines">9.6 Decorators and Helper
routines</h2>
<p>In this section, we will explore the use of decorators in Python and
how they can be employed as helper routines in test automation suites.
Decorators are a powerful feature in Python that allow you to modify or
extend the behavior of functions or methods without changing their code.
By using decorators, you can keep your test code clean and maintainable
while adding functionality such as logging, measuring execution time, or
modifying input/output.</p>
<h3 id="understanding-decorators">9.6.1 Understanding Decorators</h3>
<p>A decorator is a function that takes another function as input and
returns a new function that extends or modifies the behavior of the
input function. Decorators are applied to functions or methods using the
‘@’ symbol:</p>
<div class="sourceCode" id="cb109"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="at">@my_decorator</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function():</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code for my_function</span></span></code></pre></div>
<h3 id="creating-and-using-decorators">9.6.2 Creating and Using
Decorators</h3>
<p>Let’s create a simple decorator that logs the start and end times of
a test function:</p>
<div class="sourceCode" id="cb110"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> functools</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> log_execution_time(func):</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@functools.wraps</span>(func)</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> wrapper(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>        start_time <span class="op">=</span> time.time()</span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Starting </span><span class="sc">{</span>func<span class="sc">.</span><span class="va">__name__</span><span class="sc">}</span><span class="ss">...&quot;</span>)</span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> func(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a>        end_time <span class="op">=</span> time.time()</span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;Finished </span><span class="sc">{</span>func<span class="sc">.</span><span class="va">__name__</span><span class="sc">}</span><span class="ss"> in </span><span class="sc">{</span>end_time <span class="op">-</span> start_time<span class="sc">:.2f}</span><span class="ss"> seconds.&quot;</span>)</span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> result</span>
<span id="cb110-13"><a href="#cb110-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-14"><a href="#cb110-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> wrapper</span>
<span id="cb110-15"><a href="#cb110-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-16"><a href="#cb110-16" aria-hidden="true" tabindex="-1"></a><span class="at">@log_execution_time</span></span>
<span id="cb110-17"><a href="#cb110-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_test_function():</span>
<span id="cb110-18"><a href="#cb110-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code for my_test_function</span></span></code></pre></div>
<p>The <code>log_execution_time</code> decorator logs the start time,
executes the test function, logs the end time, and calculates the
execution time. The <code>@functools.wraps</code> decorator ensures that
the wrapped function retains its original name and attributes.</p>
<h3 id="using-decorators-for-test-setups-and-teardowns">9.6.3 Using
Decorators for Test Setups and Teardowns</h3>
<p>Decorators can also be used for common setup and teardown tasks, such
as creating temporary directories or establishing database connections.
Here’s an example of a decorator that creates a temporary directory for
a test function:</p>
<div class="sourceCode" id="cb111"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tempfile</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> shutil</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> with_tempdir(func):</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">@functools.wraps</span>(func)</span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> wrapper(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>        tempdir <span class="op">=</span> tempfile.mkdtemp()</span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb111-10"><a href="#cb111-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> func(<span class="op">*</span>args, tempdir<span class="op">=</span>tempdir, <span class="op">**</span>kwargs)</span>
<span id="cb111-11"><a href="#cb111-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb111-12"><a href="#cb111-12" aria-hidden="true" tabindex="-1"></a>            shutil.rmtree(tempdir)</span>
<span id="cb111-13"><a href="#cb111-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-14"><a href="#cb111-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> wrapper</span>
<span id="cb111-15"><a href="#cb111-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb111-16"><a href="#cb111-16" aria-hidden="true" tabindex="-1"></a><span class="at">@with_tempdir</span></span>
<span id="cb111-17"><a href="#cb111-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_file_operations(tempdir):</span>
<span id="cb111-18"><a href="#cb111-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code for test_file_operations that uses the temporary directory</span></span></code></pre></div>
<p>In this example, the <code>with_tempdir</code> decorator creates a
temporary directory before the test function is executed and cleans it
up afterward. The temporary directory path is passed to the test
function as a keyword argument.</p>
<h3 id="conditional-test-execution">9.6.4 Conditional Test
Execution</h3>
<p>Decorators can be used to conditionally execute test cases based on
certain criteria, such as environment variables or configuration
settings. For instance, you can create a decorator that skips test cases
marked as “slow” if a specific environment variable is set:</p>
<div class="sourceCode" id="cb112"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> skip_slow_tests(func):</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@functools.wraps</span>(func)</span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> wrapper(<span class="op">*</span>args, <span class="op">**</span>kwargs):</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.environ.get(<span class="st">&#39;SKIP_SLOW_TESTS&#39;</span>):</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">raise</span> unittest.SkipTest(<span class="st">&quot;Skipping slow test.&quot;</span>)</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> func(<span class="op">*</span>args, <span class="op">**</span>kwargs)</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> wrapper</span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a><span class="at">@skip_slow_tests</span></span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_slow_operation():</span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code for test_slow_operation</span></span></code></pre></div>
<p>By utilizing decorators as helpers in your test automation suite, you
can add functionality and improve maintainability without cluttering
your test code. In the next section, we will discuss a practical project
that demonstrates a complete test suite in action.</p>
<h2 id="project-a-practical-project-example-for-a-test-suite">9.7
Project: A Practical Project Example for a Test Suite</h2>
<p>In this section, we will walk through a practical example of a test
suite for a simple e-commerce application. This project will demonstrate
how to apply the concepts discussed in previous sections, such as
modular and reusable code, test suite organization, and the use of
decorators.</p>
<h3 id="project-overview-2">9.7.1 Project Overview</h3>
<p>The e-commerce application includes the following
functionalities:</p>
<ul>
<li>User registration</li>
<li>User login and logout</li>
<li>Adding and removing products</li>
<li>Placing and canceling orders</li>
</ul>
<p>We will create a test suite to verify these functionalities using a
modular approach and best practices for organizing test cases.</p>
<h3 id="project-structure">9.7.2 Project Structure</h3>
<p>The project is organized as follows:</p>
<pre class="console"><code>ecommerce_app/
  ├── app/
  │   ├── __init__.py
  │   ├── models.py
  │   ├── views.py
  │   └── utils.py
  ├── tests/
  │   ├── __init__.py
  │   ├── user_tests/
  │   │   ├── __init__.py
  │   │   ├── test_registration.py
  │   │   └── test_login.py
  │   ├── product_tests/
  │   │   ├── __init__.py
  │   │   ├── test_add_product.py
  │   │   └── test_remove_product.py
  │   ├── order_tests/
  │   │   ├── __init__.py
  │   │   ├── test_place_order.py
  │   │   └── test_cancel_order.py
  │   └── helpers.py
  └── main.py
</code></pre>
<h3 id="project-setup">9.7.3 Project Setup</h3>
<p>First, we need to import the necessary libraries and create helper
functions in the <code>helpers.py</code> file:</p>
<div class="sourceCode" id="cb114"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># helpers.py</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> app <span class="im">import</span> create_app, db</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> app.models <span class="im">import</span> User, Product, Order</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> register_user(app, username, password):</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to register a new user</span></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> login_user(app, username, password):</span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to log in a user</span></span>
<span id="cb114-11"><a href="#cb114-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-12"><a href="#cb114-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add_product(app, product_name, price):</span>
<span id="cb114-13"><a href="#cb114-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to add a new product</span></span>
<span id="cb114-14"><a href="#cb114-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-15"><a href="#cb114-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> remove_product(app, product_id):</span>
<span id="cb114-16"><a href="#cb114-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to remove a product</span></span>
<span id="cb114-17"><a href="#cb114-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-18"><a href="#cb114-18" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> place_order(app, user_id, product_id, quantity):</span>
<span id="cb114-19"><a href="#cb114-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to place an order</span></span>
<span id="cb114-20"><a href="#cb114-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-21"><a href="#cb114-21" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cancel_order(app, order_id):</span>
<span id="cb114-22"><a href="#cb114-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to cancel an order</span></span>
<span id="cb114-23"><a href="#cb114-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-24"><a href="#cb114-24" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> EcommerceAppTestCase(unittest.TestCase):</span>
<span id="cb114-25"><a href="#cb114-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb114-26"><a href="#cb114-26" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.app <span class="op">=</span> create_app(<span class="st">&#39;testing&#39;</span>)</span>
<span id="cb114-27"><a href="#cb114-27" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.client <span class="op">=</span> <span class="va">self</span>.app.test_client()</span>
<span id="cb114-28"><a href="#cb114-28" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.app_context <span class="op">=</span> <span class="va">self</span>.app.app_context()</span>
<span id="cb114-29"><a href="#cb114-29" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.app_context.push()</span>
<span id="cb114-30"><a href="#cb114-30" aria-hidden="true" tabindex="-1"></a>        db.create_all()</span>
<span id="cb114-31"><a href="#cb114-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-32"><a href="#cb114-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb114-33"><a href="#cb114-33" aria-hidden="true" tabindex="-1"></a>        db.session.remove()</span>
<span id="cb114-34"><a href="#cb114-34" aria-hidden="true" tabindex="-1"></a>        db.drop_all()</span>
<span id="cb114-35"><a href="#cb114-35" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.app_context.pop()</span></code></pre></div>
<h3 id="implementing-test-cases">9.7.4 Implementing Test Cases</h3>
<p>Next, we will implement test cases for user registration, login,
adding/removing products, and placing/canceling orders. Test cases are
organized into separate modules based on their functional area:</p>
<div class="sourceCode" id="cb115"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test_registration.py</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> .helpers <span class="im">import</span> EcommerceAppTestCase, register_user</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(EcommerceAppTestCase):</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb115-9"><a href="#cb115-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user registration</span></span>
<span id="cb115-10"><a href="#cb115-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-11"><a href="#cb115-11" aria-hidden="true" tabindex="-1"></a><span class="co"># test_login.py</span></span>
<span id="cb115-12"><a href="#cb115-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> .helpers <span class="im">import</span> EcommerceAppTestCase, register_user, login_user</span>
<span id="cb115-13"><a href="#cb115-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-14"><a href="#cb115-14" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserLogin(EcommerceAppTestCase):</span>
<span id="cb115-15"><a href="#cb115-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_login(<span class="va">self</span>):</span>
<span id="cb115-16"><a href="#cb115-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user login</span></span>
<span id="cb115-17"><a href="#cb115-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-18"><a href="#cb115-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_login(<span class="va">self</span>):</span>
<span id="cb115-19"><a href="#cb115-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user login</span></span>
<span id="cb115-20"><a href="#cb115-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-21"><a href="#cb115-21" aria-hidden="true" tabindex="-1"></a><span class="co"># ... other test modules ...</span></span></code></pre></div>
<h3 id="running-the-test-suite">9.7.5 Running the Test Suite</h3>
<p>Finally, we can run the test suite using the <code>unittest</code>
module:</p>
<div class="sourceCode" id="cb116"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python <span class="at">-m</span> unittest discover <span class="at">-s</span> tests <span class="at">-p</span> <span class="st">&quot;test_*.py&quot;</span></span></code></pre></div>
<p>The <code>-s</code> option specifies the directory where the test
modules are located, and the <code>-p</code> option specifies the
pattern for test modules. The <code>discover</code> command will
automatically discover and run all test modules that match the specified
pattern.</p>
<h2 id="test-data-management---approaches-and-examples">9.8 Test Data
Management - Approaches and Examples</h2>
<p>In this section, we will discuss various approaches to managing test
data and provide examples for each method. Effective test data
management is essential for maintaining a clean, organized, and
maintainable test suite. It ensures that your test cases remain focused
on testing functionality, while test data can be modified or extended
without affecting the test code.</p>
<h3 id="embedded-test-data">9.8.1 Embedded Test Data</h3>
<p>One approach to managing test data is to embed it directly within the
test code as variables or data structures. This method can be useful for
small amounts of test data, but it may become unwieldy for larger
datasets or when test data needs to be shared across multiple test
cases.</p>
<p>Example:</p>
<div class="sourceCode" id="cb117"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>        test_data <span class="op">=</span> {</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;username&quot;</span>: <span class="st">&quot;testuser&quot;</span>,</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;password&quot;</span>: <span class="st">&quot;password123&quot;</span>,</span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration using test_data</span></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a>        test_data <span class="op">=</span> {</span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;username&quot;</span>: <span class="st">&quot;testuser&quot;</span>,</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;password&quot;</span>: <span class="st">&quot;123&quot;</span>,  <span class="co"># Invalid password (too short)</span></span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb117-14"><a href="#cb117-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user registration using test_data</span></span></code></pre></div>
<h3 id="external-test-data">9.8.2 External Test Data</h3>
<p>Another approach is to store test data in external files, such as
CSV, JSON, or XML. This method is beneficial when dealing with large
datasets, when test data needs to be shared across multiple test cases,
or when the test data format is complex.</p>
<p>Example:</p>
<p><code>test_data.json</code>:</p>
<div class="sourceCode" id="cb118"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;valid_registration&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;username&quot;</span><span class="fu">:</span> <span class="st">&quot;testuser&quot;</span><span class="fu">,</span></span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;password123&quot;</span></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;invalid_registration&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;username&quot;</span><span class="fu">:</span> <span class="st">&quot;testuser&quot;</span><span class="fu">,</span></span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;password&quot;</span><span class="fu">:</span> <span class="st">&quot;123&quot;</span></span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<p><code>test_registration.py</code>:</p>
<div class="sourceCode" id="cb119"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">@classmethod</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUpClass(cls):</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;test_data.json&quot;</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>            cls.test_data <span class="op">=</span> json.load(<span class="bu">file</span>)</span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration using self.test_data[&quot;valid_registration&quot;]</span></span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user registration using self.test_data[&quot;invalid_registration&quot;]</span></span></code></pre></div>
<h3 id="using-test-data-generators">9.8.3. Using Test Data
Generators</h3>
<p>Test data generators, such as the Python library <code>Faker</code>,
can be used to create realistic and diverse test data programmatically.
This approach is especially useful when you need to generate a large
number of test cases with varying data or when you want to randomize
test data.</p>
<p>Example:</p>
<div class="sourceCode" id="cb120"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> faker <span class="im">import</span> Faker</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>fake <span class="op">=</span> Faker()</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>        test_data <span class="op">=</span> {</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;username&quot;</span>: fake.user_name(),</span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;password&quot;</span>: fake.password(),</span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration using test_data</span></span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-14"><a href="#cb120-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb120-15"><a href="#cb120-15" aria-hidden="true" tabindex="-1"></a>        test_data <span class="op">=</span> {</span>
<span id="cb120-16"><a href="#cb120-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;username&quot;</span>: fake.user_name(),</span>
<span id="cb120-17"><a href="#cb120-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;password&quot;</span>: <span class="st">&quot;123&quot;</span>,  <span class="co"># Invalid password (too short)</span></span>
<span id="cb120-18"><a href="#cb120-18" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb120-19"><a href="#cb120-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid user registration using test_data</span></span></code></pre></div>
<h3 id="using-data-factories">9.8.4. Using Data Factories</h3>
<p>Test data factories, such as <code>FactoryBoy</code>, allow you to
define templates for creating test data objects. This approach ensures
that your test data is consistent and maintainable, while also allowing
you to customize specific attributes when necessary.</p>
<p>Example:</p>
<p>factories.py:</p>
<div class="sourceCode" id="cb121"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> factory</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> app.models <span class="im">import</span> User</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> UserFactory(factory.Factory):</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">class</span> Meta:</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>        model <span class="op">=</span> User</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>    username <span class="op">=</span> factory.Faker(<span class="st">&quot;user_name&quot;</span>)</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>    password <span class="op">=</span> factory.Faker(<span class="st">&quot;password&quot;</span>)</span></code></pre></div>
<p>test_registration.py:</p>
<div class="sourceCode" id="cb122"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> .factories <span class="im">import</span> UserFactory</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span></code></pre></div>
<h2 id="summary-5">9.9 Summary</h2>
<p>In this chapter, we have explored various aspects of creating and
managing test automation suites in Python. We covered a wide range of
topics, including:</p>
<ul>
<li><p><strong>Writing modular and reusable code</strong>: We emphasized
the importance of modular and maintainable test code, and provided
examples on how to structure your test suite for maximum
reusability.</p></li>
<li><p><strong>Typical architecture for a test suite</strong>: We
discussed different classes and methods used in a test suite and
provided an example of a complete test suite structure.</p></li>
<li><p><strong>Writing helper routines in separate modules</strong>: We
demonstrated the benefits of separating helper functions from test code,
allowing for better code reusability and maintainability.</p></li>
<li><p><strong>Organizing test suites</strong>: We covered different
approaches for organizing test suites, such as tagging test cases as
skip or slow-running, and provided examples of how to implement these
techniques.</p></li>
<li><p><strong>Using decorators as helpers</strong>: We explored the
power of decorators in Python, and provided examples of how they can be
used as helper routines to save time and keep the test code
clean.</p></li>
<li><p><strong>A practical project example</strong>: We walked through a
real-world example of a test suite for a simple e-commerce application,
demonstrating the application of the concepts discussed in previous
sections.</p></li>
<li><p><strong>Test Data Management</strong>: We discussed various
approaches to managing test data, including embedded data, external
files, test data generators, and test data factories, providing examples
for each method.</p></li>
</ul>
<p>This chapter has equipped you with a comprehensive understanding of
the best practices and techniques for building effective test automation
suites in Python. As you apply these concepts to your own projects, you
will be able to create efficient and maintainable test suites that
ensure the quality and reliability of your software.</p>
<h1 id="chapter-10-best-practices-for-test-automation">Chapter 10: Best
Practices for Test Automation</h1>
<p>In this chapter, we will delve into the best practices for test
automation in Python, focusing on ensuring your test suites are
efficient, maintainable, and reliable. As the complexity of software
projects grows, it is crucial to adopt industry-standard best practices
to maximize the value of your test automation efforts.</p>
<p>The chapter includes four main sections:</p>
<ol type="1">
<li><p><strong>Code Organization and Structure</strong>: We will discuss
strategies for structuring your test code, emphasizing modularity and
reusability, and provide guidance on organizing your test suites for
maximum efficiency.</p></li>
<li><p><strong>Writing Maintainable and Readable Code</strong>: We will
explore best practices for writing test code that is easy to understand,
maintain, and modify. We will cover naming conventions, code
documentation, and other techniques that improve code
readability.</p></li>
<li><p><strong>Logging and Error Handling</strong>: In this section, we
will examine the importance of effective logging and error handling in
test automation. We will discuss different methods for capturing logs
and handling errors, ensuring that your test suite provides valuable
feedback during test execution.</p></li>
<li><p><strong>Continuous Integration and Testing</strong>: Finally, we
will explore the role of continuous integration in test automation,
discussing the benefits of integrating your test suite into your
development workflow and providing examples of how to set up continuous
testing with popular CI/CD tools.</p></li>
</ol>
<p>By the end of this chapter, you will have a thorough understanding of
the best practices for test automation in Python, empowering you to
create test suites that are effective, maintainable, and reliable.</p>
<h2 id="code-organization-and-structure">10.1 Code Organization and
Structure</h2>
<p>A well-organized and structured test suite is essential for the
maintainability and scalability of your test automation efforts. In this
section, we will discuss best practices for organizing your test code,
emphasizing modularity and reusability.</p>
<ol type="1">
<li><strong>Organize tests by functionality</strong>: Group your test
cases based on the functionality or feature they are testing. This
approach simplifies navigation and makes it easier to identify which
tests are related to specific features.</li>
</ol>
<p>Example:</p>
<pre class="console"><code>
tests/
├── user_tests/
│ ├── test_registration.py
│ └── test_login.py
├── product_tests/
│ ├── test_add_product.py
│ └── test_remove_product.py
└── order_tests/
├── test_place_order.py
└── test_cancel_order.py
</code></pre>
<ol start="2" type="1">
<li><strong>Follow the DRY (Don’t Repeat Yourself) principle</strong>:
Avoid duplicating code by extracting common functionality into helper
functions or classes. This makes your test suite more maintainable and
reduces the risk of inconsistencies.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb124"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># helpers.py</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_test_user():</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to create a test user</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="co"># test_registration.py</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> .helpers <span class="im">import</span> create_test_user</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_user_registration(<span class="va">self</span>):</span>
<span id="cb124-10"><a href="#cb124-10" aria-hidden="true" tabindex="-1"></a>        test_user <span class="op">=</span> create_test_user()</span>
<span id="cb124-11"><a href="#cb124-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test user registration</span></span></code></pre></div>
<ol start="3" type="1">
<li><strong>Separate test configuration</strong>: Store test
configuration, such as test data, credentials, and other settings, in
separate files or environment variables. This makes it easier to
maintain and update test configurations without modifying the test
code.</li>
</ol>
<p>Example:</p>
<pre class="console"><code>
config/
  ├── test_config.py
  ├── development_config.py
  └── production_config.py
</code></pre>
<ol start="4" type="1">
<li><strong>Use a consistent naming convention</strong>: Adopt a
consistent naming convention for test files, classes, and methods. This
makes it easier for other team members to understand the structure of
your test suite and locate specific tests.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb126"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test_add_product.py</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestAddProduct(unittest.TestCase):</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_add_product(<span class="va">self</span>):</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid product addition</span></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_invalid_add_product(<span class="va">self</span>):</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test invalid product addition</span></span></code></pre></div>
<p>By following these best practices for code organization and
structure, you will create a test suite that is efficient, maintainable,
and easy to navigate.</p>
<h2 id="writing-maintainable-and-readable-code">10.2 Writing
Maintainable and Readable Code</h2>
<p>Writing maintainable and readable test code is crucial for ensuring
that your test suite remains useful and effective as your project
evolves. In this section, we will explore best practices for writing
test code that is easy to understand, maintain, and modify.</p>
<ol type="1">
<li><strong>Use meaningful names</strong>: Choose descriptive names for
your test files, classes, methods, and variables. Meaningful names make
it easier for other team members to understand the purpose and
functionality of your test code.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb127"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_registration_with_valid_data(<span class="va">self</span>):</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Keep test methods focused</strong>: Each test method should
focus on testing a single functionality or behavior. Keeping test
methods focused ensures that your test suite is easier to maintain and
debug.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb128"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_login_with_valid_credentials(<span class="va">self</span>):</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test user login with valid credentials</span></span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_login_with_invalid_credentials(<span class="va">self</span>):</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test user login with invalid credentials</span></span></code></pre></div>
<ol start="3" type="1">
<li><strong>Document your test code</strong>: Include comments and
docstrings to explain the purpose and functionality of your test code.
Proper documentation is particularly important for complex test cases or
non-obvious test logic.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb129"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_product_discount(<span class="va">self</span>):</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Test that a product with a discount is correctly calculated</span></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co">    and applied to the final price.</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a><span class="co">    &quot;&quot;&quot;</span></span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code to test product discount calculation</span></span></code></pre></div>
<ol start="4" type="1">
<li><strong>Use assertions effectively</strong>: Choose the appropriate
assertion methods to ensure that your test cases provide clear and
specific feedback on failure. Additionally, include a custom error
message to clarify the reason for the test failure.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb130"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="va">self</span>.assertEqual(response.status_code, <span class="dv">200</span>, <span class="st">&quot;Expected status code 200, but received </span><span class="sc">{response.status_code}</span><span class="st">&quot;</span>)</span></code></pre></div>
<ol start="5" type="1">
<li><strong>Adhere to coding standards</strong>: Follow established
coding standards, such as PEP 8 for Python, to ensure that your test
code is consistent, well-formatted, and easy to read.</li>
</ol>
<p>Example:</p>
<pre><code># Correct
def create_test_user(username, password):
    # Code to create a test user

# Incorrect
def createTestUser(userName, passWord):
    # Code to create a test user</code></pre>
<p>By applying these best practices for writing maintainable and
readable test code, you will create a test suite that is easier to
understand, modify, and maintain, ensuring its continued effectiveness
throughout the lifetime of your project.</p>
<h2 id="logging-and-error-handling">10.3 Logging and Error Handling</h2>
<p>Effective logging and error handling are essential components of test
automation, providing valuable feedback on the test execution process
and aiding in debugging. In this section, we will discuss best practices
for capturing logs and handling errors in your test suite.</p>
<ol type="1">
<li><strong>Use Python’s logging module</strong>: Utilize the built-in
logging module for consistent and configurable logging in your test
suite. This allows you to easily control the log level, format, and
output destination.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb132"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> logging</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>logging.basicConfig(level<span class="op">=</span>logging.INFO)</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>logger <span class="op">=</span> logging.getLogger(<span class="va">__name__</span>)</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> TestUserRegistration(unittest.TestCase):</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_valid_registration(<span class="va">self</span>):</span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>        logger.info(<span class="st">&quot;Testing valid user registration...&quot;</span>)</span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Code to test valid user registration</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Log relevant information</strong>: Log relevant information
that can help you understand the test execution process and diagnose
issues in case of failure. This may include test inputs, expected and
actual results, and any error messages or exceptions.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb133"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> register_user(test_data)</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.assertEqual(response.status_code, <span class="dv">200</span>)</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>    logger.error(<span class="ss">f&quot;Test failed with exception: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">raise</span></span></code></pre></div>
<ol start="3" type="1">
<li><strong>Handle exceptions gracefully</strong>: Properly handle
exceptions in your test code to avoid unexpected behavior and ensure
that your test suite provides meaningful feedback.</li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb134"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_invalid_registration(<span class="va">self</span>):</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> register_user(invalid_test_data)</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span> <span class="im">as</span> e:</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>        logger.error(<span class="ss">f&quot;ValueError encountered: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.fail(<span class="st">&quot;Test failed due to unexpected ValueError&quot;</span>)</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>        logger.error(<span class="ss">f&quot;Unexpected exception: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb134-9"><a href="#cb134-9" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.fail(<span class="st">&quot;Test failed due to an unexpected exception&quot;</span>)</span></code></pre></div>
<ol start="4" type="1">
<li><p><strong>Capture and analyze test logs</strong>: Regularly review
and analyze test logs to identify patterns or trends that can help you
understand the root cause of test failures and improve your test
suite.</p></li>
<li><p><strong>Integrate logging with test reporting</strong>: Integrate
your test logs with test reporting tools, such as pytest-html or Allure,
to provide a comprehensive view of test execution and results.</p></li>
</ol>
<p>By following these best practices for logging and error handling,
your test suite will provide valuable feedback during test execution,
making it easier to diagnose issues and maintain the quality of your
software.</p>
<h2 id="continuous-integration-and-testing">10.4 Continuous Integration
and Testing</h2>
<p>Continuous integration (CI) plays a crucial role in modern software
development by automating the integration of code changes into a shared
repository. Integrating your test suite into the CI process enables
continuous testing, ensuring that your software is tested regularly and
consistently. In this section, we will discuss the benefits of
continuous testing and provide examples of how to set up continuous
testing with popular CI/CD tools.</p>
<ol type="1">
<li><p><em>Benefits of continuous testing</em>:</p>
<ul>
<li><strong>Catch issues early</strong>: By running tests automatically
with every code change, you can detect issues early in the development
process, minimizing the cost and effort required to fix them.</li>
<li><strong>Improve code quality</strong>: Continuous testing helps
maintain high code quality by providing immediate feedback on the impact
of code changes.</li>
<li><strong>Streamline collaboration</strong>: Automated testing in a CI
environment enables better collaboration among team members, reducing
the risk of integration issues when merging code changes.</li>
<li><strong>Enhance test coverage</strong>: Continuous testing
encourages the development of comprehensive test suites, ensuring that
all aspects of your application are tested.</li>
</ul></li>
<li><p><em>Integrating test suites with CI/CD tools</em>:</p>
<ul>
<li><p><strong>GitHub Actions</strong>: Create a GitHub Actions workflow
to run your test suite whenever code changes are pushed to the
repository. Here’s a sample workflow configuration:</p>
<div class="sourceCode" id="cb135"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Python Test Suite</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">]</span></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pull_request</span><span class="kw">:</span></span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">main</span><span class="kw">]</span></span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">build</span><span class="kw">:</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb135-12"><a href="#cb135-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb135-13"><a href="#cb135-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v2</span></span>
<span id="cb135-14"><a href="#cb135-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Set up Python</span></span>
<span id="cb135-15"><a href="#cb135-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/setup-python@v2</span></span>
<span id="cb135-16"><a href="#cb135-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb135-17"><a href="#cb135-17" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">python-version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.x&#39;</span></span>
<span id="cb135-18"><a href="#cb135-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Install dependencies</span></span>
<span id="cb135-19"><a href="#cb135-19" aria-hidden="true" tabindex="-1"></a><span class="fu">      run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb135-20"><a href="#cb135-20" aria-hidden="true" tabindex="-1"></a>        python -m pip install --upgrade pip</span>
<span id="cb135-21"><a href="#cb135-21" aria-hidden="true" tabindex="-1"></a>        pip install -r requirements.txt</span>
<span id="cb135-22"><a href="#cb135-22" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Run tests</span></span>
<span id="cb135-23"><a href="#cb135-23" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">run</span><span class="kw">:</span><span class="at"> pytest</span></span></code></pre></div></li>
<li><p><strong>GitLab CI/CD</strong>: Configure a GitLab CI/CD pipeline
to run your test suite by creating a <code>.gitlab-ci.yml</code> file in
your project’s root directory. Here’s a sample configuration:</p>
<div class="sourceCode" id="cb136"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stages</span><span class="kw">:</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> test</span></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a><span class="fu">test</span><span class="kw">:</span></span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">stage</span><span class="kw">:</span><span class="at"> test</span></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">image</span><span class="kw">:</span><span class="at"> python:3.9</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">script</span><span class="kw">:</span></span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> pip install -r requirements.txt</span></span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> pytest</span></span></code></pre></div></li>
<li><p><strong>Jenkins</strong>: Set up a Jenkins job to run your test
suite by creating a <code>Jenkinsfile</code> in your project’s root
directory. Here’s a sample configuration:</p>
<div class="sourceCode" id="cb137"><pre
class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>pipeline <span class="op">{</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>    agent any</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>    stages <span class="op">{</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">stage</span><span class="op">(</span><span class="st">&#39;Test&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>            steps <span class="op">{</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>                sh <span class="st">&#39;python -m pip install --upgrade pip&#39;</span></span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>                sh <span class="st">&#39;pip install -r requirements.txt&#39;</span></span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a>                sh <span class="st">&#39;pytest&#39;</span></span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb137-11"><a href="#cb137-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb137-12"><a href="#cb137-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
</ul></li>
</ol>
<p>By integrating your test suite with continuous integration and
testing, you will ensure that your software is regularly and
consistently tested, maintaining high code quality and minimizing the
risk of issues in production.</p>
<h1 id="chapter-11-advanced-concepts-for-test-automation">Chapter 11:
Advanced Concepts for Test Automation</h1>
<h2 id="introduction">11.1 Introduction</h2>
<p>In this chapter, we will delve into more advanced concepts in test
automation with Python. As your testing needs grow and your projects
become more complex, it’s essential to be familiar with advanced
techniques to ensure comprehensive test coverage and optimal test
execution.</p>
<p>The chapter will consist of the following sections:</p>
<ol type="1">
<li><p>Headless browser testing: We will explore the concept of headless
browser testing and discuss its advantages. We will also demonstrate how
to implement headless browser testing using popular tools like Selenium
WebDriver.</p></li>
<li><p>Performance testing with Python: In this section, we will
introduce performance testing and discuss various tools and techniques
to perform performance testing in Python. We will cover topics like load
testing, stress testing, and profiling.</p></li>
<li><p>Mobile app testing with Appium: We will examine the process of
automating mobile app testing using Appium, a popular open-source test
automation framework. We will discuss how to set up Appium and write
test cases for Android and iOS applications.</p></li>
<li><p>Summary: We will recap the advanced test automation concepts
discussed in this chapter and provide guidance on how to apply these
techniques in your projects.</p></li>
</ol>
<p>By the end of this chapter, you will have a deeper understanding of
advanced test automation concepts and be equipped with the knowledge to
tackle more complex testing scenarios in your projects.</p>
<h2 id="headless-browser-testing">11.2 Headless Browser Testing</h2>
<p>Headless browser testing is the practice of running automated tests
on a web browser without a graphical user interface (GUI). This approach
has several advantages over traditional browser testing, such as reduced
resource consumption, faster test execution, and the ability to run
tests in environments without a display.</p>
<p>In this section, we will discuss the benefits of headless browser
testing and demonstrate how to implement headless browser testing using
Selenium WebDriver, a popular browser automation tool.</p>
<h3 id="benefits-of-headless-browser-testing">Benefits of Headless
Browser Testing</h3>
<ol type="1">
<li><p><strong>Faster test execution</strong>: Headless browsers consume
fewer resources and can execute tests more quickly than traditional
browsers, leading to shorter test execution times and faster feedback on
code changes.</p></li>
<li><p><strong>CI/CD compatibility</strong>: Headless browsers can run
in environments without a display, making them well-suited for
continuous integration and deployment pipelines, where graphical
interfaces are often unavailable.</p></li>
<li><p><strong>Resource efficiency</strong>: Headless browsers use fewer
system resources than traditional browsers, allowing you to run more
tests concurrently and minimize the impact on system
performance.</p></li>
</ol>
<h3
id="implementing-headless-browser-testing-with-selenium-webdriver">Implementing
Headless Browser Testing with Selenium WebDriver</h3>
<p>Selenium WebDriver provides support for headless browser testing
through various browser-specific options. Here, we will demonstrate how
to enable headless mode for Google Chrome and Mozilla Firefox.</p>
<h4 id="google-chrome">Google Chrome</h4>
<p>To enable headless mode for Google Chrome, you will need to use the
<code>chrome_options</code> object and add the <code>--headless</code>
flag.</p>
<div class="sourceCode" id="cb138"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.chrome.options <span class="im">import</span> Options</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>chrome_options <span class="op">=</span> Options()</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>chrome_options.add_argument(<span class="st">&quot;--headless&quot;</span>)</span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>driver <span class="op">=</span> webdriver.Chrome(options<span class="op">=</span>chrome_options)</span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a>driver.get(<span class="st">&quot;https://www.example.com&quot;</span>)</span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(driver.title)</span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>driver.quit()</span></code></pre></div>
<h4 id="mozilla-firefox">Mozilla Firefox</h4>
<p>To enable headless mode for Mozilla Firefox, you will need to use the
<code>firefox_options</code> object and set the <code>headless</code>
attribute to <code>True</code>.</p>
<div class="sourceCode" id="cb139"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium <span class="im">import</span> webdriver</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> selenium.webdriver.firefox.options <span class="im">import</span> Options</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>firefox_options <span class="op">=</span> Options()</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>firefox_options.headless <span class="op">=</span> <span class="va">True</span></span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>driver <span class="op">=</span> webdriver.Firefox(options<span class="op">=</span>firefox_options)</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>driver.get(<span class="st">&quot;https://www.example.com&quot;</span>)</span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(driver.title)</span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a>driver.quit()</span></code></pre></div>
<p>By incorporating headless browser testing into your test automation
strategy, you can benefit from faster test execution times, improved
resource efficiency, and greater compatibility with CI/CD pipelines.</p>
<h2 id="performance-testing-with-python">11.3 Performance Testing with
Python</h2>
<p>Performance testing is an essential aspect of software quality
assurance that focuses on evaluating the responsiveness, scalability,
and stability of an application under various workloads. In this
section, we will introduce performance testing concepts and discuss
various tools and techniques to perform performance testing in
Python.</p>
<h3 id="types-of-performance-testing">Types of Performance Testing</h3>
<ol type="1">
<li><p><strong>Load testing</strong>: Load testing evaluates an
application’s behavior under a specific expected load, measuring
response times, throughput, and resource utilization.</p></li>
<li><p><strong>Stress testing</strong>: Stress testing assesses an
application’s stability and robustness under extreme workloads,
determining its breaking point and identifying potential
bottlenecks.</p></li>
<li><p><strong>Soak testing</strong>: Soak testing, also known as
endurance testing, evaluates an application’s behavior under a
continuous expected load over an extended period, identifying issues
related to memory leaks and resource exhaustion.</p></li>
</ol>
<h3 id="performance-testing-tools-for-python">Performance Testing Tools
for Python</h3>
<p>Several tools and libraries are available for performance testing in
Python. Some popular options include:</p>
<ol type="1">
<li><p><strong>Locust</strong>: Locust is an open-source load testing
tool that allows you to write your performance tests in Python. It
provides a web-based interface to monitor test execution and generates
detailed reports on test results.</p>
<p>Example:</p>
<div class="sourceCode" id="cb140"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> locust <span class="im">import</span> HttpUser, task, between</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MyLoadTest(HttpUser):</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>    wait_time <span class="op">=</span> between(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">@task</span></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> get_home_page(<span class="va">self</span>):</span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.client.get(<span class="st">&quot;/&quot;</span>)</span></code></pre></div></li>
<li><p><strong>JMeter</strong>: JMeter is a widely-used, open-source
load testing tool with support for various protocols. Although JMeter is
not Python-specific, you can use it to test Python web applications and
integrate the test results with Python-based tools.</p></li>
<li><p><strong>pytest-benchmark</strong>: pytest-benchmark is a pytest
plugin that allows you to benchmark Python functions and generate
performance reports. It is particularly useful for profiling and
optimizing specific parts of your code.</p></li>
</ol>
<p>Example:</p>
<div class="sourceCode" id="cb141"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_my_function(benchmark):</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> my_function():</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>        time.sleep(<span class="fl">0.5</span>)</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a>    benchmark(my_function)</span></code></pre></div>
<p>By incorporating performance testing into your test automation
strategy, you can ensure that your application meets performance
requirements, providing a smooth and responsive user experience even
under heavy workloads.</p>
<h2 id="mobile-app-testing-with-appium">11.4 Mobile App Testing with
Appium</h2>
<p>Mobile app testing is an essential part of the software development
process, ensuring that your mobile applications function correctly and
provide a consistent user experience across different devices and
platforms. Appium is an open-source test automation framework designed
for mobile app testing, supporting both Android and iOS platforms.</p>
<p>In this section, we will discuss how to set up Appium and write test
cases for Android and iOS applications.</p>
<h3 id="setting-up-appium">11.4.1 Setting Up Appium</h3>
<ol type="1">
<li>Install Appium: To get started with Appium, you will need to install
it on your system. You can install Appium using npm by running the
following command:</li>
</ol>
<div class="sourceCode" id="cb142"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-g</span> appium</span></code></pre></div>
<ol start="2" type="1">
<li>Install Appium Python Client: To write test cases in Python, you
will need to install the Appium Python client. You can install it using
pip:</li>
</ol>
<div class="sourceCode" id="cb143"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install Appium-Python-Client</span></code></pre></div>
<ol start="3" type="1">
<li>Set up Android SDK and Xcode: To test Android and iOS applications,
you will need to install the Android SDK and Xcode, respectively. Ensure
that you have the appropriate SDKs and emulators installed for the
platforms you intend to test.</li>
</ol>
<h3 id="writing-test-cases-for-android-and-ios-applications">11.4.2
Writing Test Cases for Android and iOS Applications</h3>
<p>Appium uses the WebDriver protocol to interact with mobile
applications. Test cases for Android and iOS applications are similar,
with some differences in the capabilities and driver initialization.</p>
<h4 id="android-test-case-example">11.4.3 Android Test Case Example</h4>
<div class="sourceCode" id="cb144"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> appium <span class="im">import</span> webdriver</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> AndroidAppTestCase(unittest.TestCase):</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>     desired_caps <span class="op">=</span> {</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;platformName&quot;</span>: <span class="st">&quot;Android&quot;</span>,</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;deviceName&quot;</span>: <span class="st">&quot;Android Emulator&quot;</span>,</span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;app&quot;</span>: <span class="st">&quot;/path/to/your/android/app.apk&quot;</span>,</span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a>     }</span>
<span id="cb144-11"><a href="#cb144-11" aria-hidden="true" tabindex="-1"></a>     <span class="va">self</span>.driver <span class="op">=</span> webdriver.Remote(<span class="st">&quot;http://localhost:4723/wd/hub&quot;</span>, desired_caps)</span>
<span id="cb144-12"><a href="#cb144-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-13"><a href="#cb144-13" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> test_example(<span class="va">self</span>):</span>
<span id="cb144-14"><a href="#cb144-14" aria-hidden="true" tabindex="-1"></a>     <span class="co"># Your test case logic here</span></span>
<span id="cb144-15"><a href="#cb144-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-16"><a href="#cb144-16" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb144-17"><a href="#cb144-17" aria-hidden="true" tabindex="-1"></a>     <span class="va">self</span>.driver.quit()</span>
<span id="cb144-18"><a href="#cb144-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-19"><a href="#cb144-19" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb144-20"><a href="#cb144-20" aria-hidden="true" tabindex="-1"></a> unittest.main()</span></code></pre></div>
<h4 id="ios-test-case-example">11.4.4 iOS Test Case Example</h4>
<div class="sourceCode" id="cb145"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> appium <span class="im">import</span> webdriver</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unittest</span>
<span id="cb145-4"><a href="#cb145-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-5"><a href="#cb145-5" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> iOSAppTestCase(unittest.TestCase):</span>
<span id="cb145-6"><a href="#cb145-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> setUp(<span class="va">self</span>):</span>
<span id="cb145-7"><a href="#cb145-7" aria-hidden="true" tabindex="-1"></a>        desired_caps <span class="op">=</span> {</span>
<span id="cb145-8"><a href="#cb145-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;platformName&quot;</span>: <span class="st">&quot;iOS&quot;</span>,</span>
<span id="cb145-9"><a href="#cb145-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;deviceName&quot;</span>: <span class="st">&quot;iPhone Simulator&quot;</span>,</span>
<span id="cb145-10"><a href="#cb145-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;app&quot;</span>: <span class="st">&quot;/path/to/your/ios/app.app&quot;</span>,</span>
<span id="cb145-11"><a href="#cb145-11" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb145-12"><a href="#cb145-12" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.driver <span class="op">=</span> webdriver.Remote(<span class="st">&quot;http://localhost:4723/wd/hub&quot;</span>, desired_caps)</span>
<span id="cb145-13"><a href="#cb145-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-14"><a href="#cb145-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> test_example(<span class="va">self</span>):</span>
<span id="cb145-15"><a href="#cb145-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Your test case logic here</span></span>
<span id="cb145-16"><a href="#cb145-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-17"><a href="#cb145-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> tearDown(<span class="va">self</span>):</span>
<span id="cb145-18"><a href="#cb145-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">self</span>.driver.quit()</span>
<span id="cb145-19"><a href="#cb145-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-20"><a href="#cb145-20" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb145-21"><a href="#cb145-21" aria-hidden="true" tabindex="-1"></a>    unittest.main()</span></code></pre></div>
<p>By incorporating mobile app testing with Appium into your test
automation strategy, you can ensure that your mobile applications
function correctly and provide a consistent user experience across
different devices and platforms.</p>
<h2 id="summary-6">11.5 Summary</h2>
<p>In this chapter, we explored advanced concepts in test automation
with Python, equipping you with the knowledge to tackle more complex
testing scenarios in your projects. Here is a recap of the topics
covered:</p>
<ol type="1">
<li><p><strong>Headless browser testing</strong>: We discussed the
advantages of headless browser testing, such as faster test execution
times, improved resource efficiency, and better CI/CD pipeline
compatibility. We demonstrated how to enable headless mode for Google
Chrome and Mozilla Firefox using Selenium WebDriver.</p></li>
<li><p><strong>Performance testing with Python</strong>: We introduced
performance testing concepts and discussed various tools and techniques
for performance testing in Python, including load testing, stress
testing, and soak testing. We provided examples using popular tools like
Locust and pytest-benchmark.</p></li>
<li><p><strong>Mobile app testing with Appium</strong>: We explored the
process of automating mobile app testing using Appium for both Android
and iOS platforms. We discussed how to set up Appium and provided
examples of writing test cases for Android and iOS
applications.</p></li>
</ol>
<p>By mastering these advanced test automation concepts, you can ensure
comprehensive test coverage and optimal test execution for your
projects, leading to higher-quality software and an improved user
experience.</p>
<p>With the knowledge gained in this chapter, you are now better
prepared to tackle even the most challenging test automation tasks and
enhance your overall test automation strategy.</p>
</body>
</html>
